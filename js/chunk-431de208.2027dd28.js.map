{"version":3,"sources":["webpack:///./src/components/NotifyCard.vue","webpack:///src/components/NotifyCard.vue","webpack:///./src/components/NotifyCard.vue?9bfa","webpack:///./src/components/NotifyCard.vue?f7fe","webpack:///./src/views/AdmisionVerificadoCaja.vue","webpack:///src/views/AdmisionVerificadoCaja.vue","webpack:///./src/views/AdmisionVerificadoCaja.vue?213d","webpack:///./src/views/AdmisionVerificadoCaja.vue?b5a3"],"names":["attrs","staticClass","_vm","render","staticRenderFns","props","component","_c","on","preventDefault","v","model","value","callback","$set","postulantes","itemsPerPage","scopedSlots","key","item","fn","expression","changePage","notify_load","confirmDialog","_v","load_send","pdfMake","name","components","HeaderTitle","NotifyCard","data","notify_title","loading","load_search","load_report","type_state","cedula_dni","convocatoria","id","cite","headers","text","align","sortable","options","search","convocatoria_id","institucion_id","sigla","page","pageCount","postulante","postulante_id","user","created","mounted","methods","getModalidades","axios","get","then","response","catch","console","getPostulantes","post","Service","Math","changeSearch","changePerPage","reportVerificado","stack","marginTop","fontSize","alignment","bold","color","columns","width","style","institucion","layout","table","headerRows","widths","body","fillColor","nombre","tableContent","index","PDFService","bodyPdf","pageSize","pageOrientation","pageMargins","header","footer","content","createPdf","download"],"mappings":"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AA/B,yBAEAkC,SACAC,UACAC,mBACAC,kBACAC,UACAC,OACAC,YACApC,iBAEAD,eACAsC,cACAC,iBACA9B,iBACA+B,YAEAC,UACA,2BACA,iBACA,sBAAA5B,eAGA6B,UACA,kBACA,sCACA,0CACA,uBAEA,sBAAA7B,eAGA8B,YACA,0BACAC,iBACA,oBACAC,IACAC,gEACAC,SACA,sCACAC,oBACA,CAAAvB,QAAAC,SACA,kDACA,iCACA,oBACA,wBAEAuB,WACA,oBACAC,6CAIAC,iBAEA,gBACAN,IACAO,KACAC,8CACA,aACAA,oBAEAN,SACA,gBACA,6BACA,iBACA,uBACAO,wDAGAL,UACA,gBACAC,gDAIAK,eACA,mDACA,uBAIAC,gBACA,oBACA,uBAGAjD,aACA,uBAGAkD,mBACA,oBACAZ,IACAO,KACAC,iDACA,aACAA,oBAEAN,SACA,iCACA,cACA,OACA,CACAW,OACA,CACAC,cACAC,WACAhC,2CACAiC,mBAEA,CACAD,YACAE,QACAC,gBACAnC,4BACAiC,oBAEA,CACAD,YACAE,QACAC,gBACAnC,wCACAiC,oBAEA,CACAD,YACAE,QACAC,gBACAnC,sEACAiC,oBAEA,CACAF,YACAC,WACAI,SACA,CACAC,WACAH,QACAlC,sBACAsC,gBAEA,CACAD,YACArC,OACAuC,2BACA,IAEA,CACAF,aACAH,QACAlC,kBAEA,CACAqC,cACArC,yBAOA,GACA+B,YACAC,WACAQ,8BACAC,OACAC,aACAC,4CACAC,MACA,CACA,CACA5C,SACAkC,QACAW,qBAEA,CACA7C,2BACAkC,QACAW,qBAEA,CACA7C,wBACAkC,QACAW,qBAEA,CACA7C,oBACAkC,QACAW,qBAEA,CACA7C,qBACAkC,QACAW,qBAEA,CACA7C,sBACAkC,QACAW,yBAMA,KACAzB,gCACA0B,mDACAtE,8CACA,sBACAuE,mBACAC,IACAF,EACAtE,uBACAA,2BACAA,kBACAyE,wCAGAC,UACA,OACAC,kBACAC,4BACAC,0BACAC,+BACAC,+BACAC,WAEAxE,IACAyE,aACAC,sDAEA,sBAEArC,UACA,oBACAC,sBCrcgW,I,YCO5V3D,EAAY,eACd,EACA,EACAF,GACA,EACA,KACA,KACA,MAIa,aAAAE,E","file":"js/chunk-431de208.2027dd28.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-card',{staticClass:\"text-center\"},[_c('v-card-title',[_vm._v(_vm._s(_vm.title))]),(_vm.load)?_c('v-card-text',[_c('v-progress-circular',{attrs:{\"size\":70,\"width\":7,\"color\":\"blue\",\"indeterminate\":\"\"}})],1):_c('v-card-text',[_c('h3',{staticClass:\"mt-2\"},[_vm._v(\"No hay convocatoria habilitada para \"+_vm._s(_vm.process)+\".\")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card class=\"text-center\">\n    <v-card-title>{{ title }}</v-card-title>\n    <v-card-text v-if=\"load\">\n      <v-progress-circular\n        :size=\"70\"\n        :width=\"7\"\n        color=\"blue\"\n        indeterminate\n      ></v-progress-circular>\n    </v-card-text>\n    <v-card-text v-else>\n      <h3 class=\"mt-2\">No hay convocatoria habilitada para {{ process }}.</h3>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nexport default {\n  props: [\"title\", \"process\", \"load\"],\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotifyCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotifyCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NotifyCard.vue?vue&type=template&id=49680eed&\"\nimport script from \"./NotifyCard.vue?vue&type=script&lang=js&\"\nexport * from \"./NotifyCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-container',{attrs:{\"grid-list-xl\":\"\",\"fluid\":\"\"}},[_c('header-title',{attrs:{\"title\":\"Lista verificados\"}}),(_vm.convocatoria.id > 0)?_c('div',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-text',[_c('p',{staticClass:\"subtitle-1 font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm.convocatoria.cite)+\" \")]),_c('p',[_vm._v(\" Lista de postulantes verificados por la/el responsable de caja de la modalidad \"),_c('b',[_vm._v(\"A\")]),_vm._v(\". \")])])],1)],1)],1),_c('v-row',{staticClass:\"mb-1\"},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-text',[_c('v-form',{ref:\"formp\",on:{\"submit\":function($event){$event.preventDefault();return _vm.getPostulantes()}}},[_c('v-row',{staticClass:\"mt-1\"},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}},[_c('v-text-field',{attrs:{\"label\":\"CI o DNI, nombre, apellidos\",\"rules\":[(v) => !!v || ''],\"hint\":\"1234567 o 1234567-1G\",\"hide-details\":\"\",\"clearable\":\"\",\"filled\":\"\"},on:{\"input\":_vm.changeSearch},model:{value:(_vm.options.search),callback:function ($$v) {_vm.$set(_vm.options, \"search\", $$v)},expression:\"options.search\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"8\"}},[_c('v-btn',{staticClass:\"mr-1\",attrs:{\"type\":\"submit\",\"large\":\"\",\"color\":\"primary\",\"loading\":_vm.load_search}},[_c('v-icon',[_vm._v(\"mdi-magnify\")]),_vm._v(\" Buscar \")],1),_c('v-btn',{attrs:{\"type\":\"button\",\"large\":\"\",\"color\":\"error\",\"loading\":_vm.load_report,\"disabled\":_vm.postulantes.length == 0},on:{\"click\":_vm.reportVerificado}},[_c('v-icon',[_vm._v(\"mdi-file-download\")]),_vm._v(\" PDF \")],1)],1)],1)],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"loading\":_vm.loading,\"headers\":_vm.headers,\"items\":_vm.postulantes,\"page\":_vm.options.page,\"items-per-page\":_vm.options.itemsPerPage,\"hide-default-footer\":\"\"},on:{\"update:page\":function($event){return _vm.$set(_vm.options, \"page\", $event)}},scopedSlots:_vm._u([{key:`item.num`,fn:function({ item }){return [_c('td',[_vm._v(\" \"+_vm._s((_vm.options.page - 1) * _vm.options.itemsPerPage + (_vm.postulantes.indexOf(item) + 1))+\" \")])]}},{key:`item.nombre`,fn:function({ item }){return [_c('td',[_vm._v(\" \"+_vm._s(item.a_persona.paterno)+\" \"+_vm._s(item.a_persona.materno)+\" \"+_vm._s(item.a_persona.nombres)+\" \")])]}},{key:`item.fecha_nacimiento`,fn:function({ item }){return [_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"formatdate\")(item.a_persona.fecha_nacimiento))+\" \")])]}},{key:`item.fecha_deposito`,fn:function({ item }){return [_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"formatdate\")(item.deposito.fecha))+\" \")])]}}],null,true)}),_c('div',{staticClass:\"v-data-footer\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}},[_c('div',{staticClass:\"v-data-footer__select\"},[_vm._v(\" Filas por página: \"),_c('v-select',{staticClass:\"my-0\",attrs:{\"items\":[10, 20, 30, 50, 100],\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.changePerPage()}},model:{value:(_vm.options.itemsPerPage),callback:function ($$v) {_vm.$set(_vm.options, \"itemsPerPage\", $$v)},expression:\"options.itemsPerPage\"}})],1)]),_c('v-col',{staticClass:\"text-center\",attrs:{\"cols\":\"12\",\"sm\":\"8\"}},[_c('v-pagination',{attrs:{\"length\":_vm.options.pageCount,\"total-visible\":5},on:{\"input\":_vm.changePage},model:{value:(_vm.options.page),callback:function ($$v) {_vm.$set(_vm.options, \"page\", $$v)},expression:\"options.page\"}})],1)],1)],1),(_vm.type_state === 2)?_c('div',[_c('span',{staticClass:\"red--text\"},[_vm._v(\" No hay registro con la \"),_c('b',[_vm._v(\"Cédula Identidad o DNA\")]),_vm._v(\" ingresada. \")])]):_vm._e()],1)],1)],1)],1)],1):_c('div',[_c('notify-card',{attrs:{\"title\":_vm.notify_title,\"load\":_vm.notify_load,\"process\":\"el proceso de admisión\"}})],1)],1),_c('v-dialog',{attrs:{\"width\":\"300\"},model:{value:(_vm.confirmDialog),callback:function ($$v) {_vm.confirmDialog=$$v},expression:\"confirmDialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline grey lighten-3\",attrs:{\"primary-title\":\"\"}},[_c('span',{staticClass:\"headline\"},[_vm._v(\"Alerta\")])]),_c('v-card-text',{staticClass:\"text-center\"},[_c('p',[_vm._v(\" ¿Está seguro(a) de habilitar al postulante \"),_c('b',{staticClass:\"blue--text\"},[_vm._v(_vm._s(_vm.postulante))]),_vm._v(\" para la \"),_c('b',[_vm._v(\"Prueba de Aptitud o Escrita\")]),_vm._v(\"? \")]),_c('p',[_vm._v(\"Dando su VoBo de que el \"),_c('b',[_vm._v(\"depósito bancario\")]),_vm._v(\" es correcto.\")])]),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"success\",\"loading\":_vm.load_send,\"text\":\"\"},on:{\"click\":function($event){return _vm.checkPostulante()}}},[_vm._v(\"Aceptar\")]),_c('v-btn',{attrs:{\"color\":\"red\",\"text\":\"\"},on:{\"click\":function($event){_vm.confirmDialog = false}}},[_vm._v(\"Cancelar\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-container grid-list-xl fluid>\n      <header-title title=\"Lista verificados\"></header-title>\n      <div v-if=\"convocatoria.id > 0\">\n        <v-row>\n          <v-col cols=\"12\">\n            <v-card>\n              <v-card-text>\n                <p class=\"subtitle-1 font-weight-bold\">\n                  {{ convocatoria.cite }}\n                </p>\n                <p>\n                  Lista de postulantes verificados por la/el responsable de caja\n                  de la modalidad <b>A</b>.\n                </p>\n              </v-card-text>\n            </v-card>\n          </v-col>\n        </v-row>\n        <v-row class=\"mb-1\">\n          <v-col cols=\"12\">\n            <v-card>\n              <v-card-text>\n                <v-form ref=\"formp\" @submit.prevent=\"getPostulantes()\">\n                  <v-row class=\"mt-1\">\n                    <v-col cols=\"12\" sm=\"4\">\n                      <v-text-field\n                        v-model=\"options.search\"\n                        label=\"CI o DNI, nombre, apellidos\"\n                        :rules=\"[(v) => !!v || '']\"\n                        @input=\"changeSearch\"\n                        hint=\"1234567 o 1234567-1G\"\n                        hide-details\n                        clearable\n                        filled\n                      ></v-text-field>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"8\">\n                      <v-btn\n                        class=\"mr-1\"\n                        type=\"submit\"\n                        large\n                        color=\"primary\"\n                        :loading=\"load_search\"\n                      >\n                        <v-icon>mdi-magnify</v-icon>\n                        Buscar\n                      </v-btn>\n                      <v-btn\n                        type=\"button\"\n                        large\n                        color=\"error\"\n                        :loading=\"load_report\"\n                        :disabled=\"postulantes.length == 0\"\n                        @click=\"reportVerificado\"\n                      >\n                        <v-icon>mdi-file-download</v-icon>\n                        PDF\n                      </v-btn>\n                    </v-col>\n                  </v-row>\n                </v-form>\n                <v-data-table\n                  :loading=\"loading\"\n                  :headers=\"headers\"\n                  :items=\"postulantes\"\n                  :page.sync=\"options.page\"\n                  :items-per-page=\"options.itemsPerPage\"\n                  hide-default-footer\n                  class=\"elevation-1\"\n                >\n                  <template v-slot:[`item.num`]=\"{ item }\">\n                    <td>\n                      {{\n                        (options.page - 1) * options.itemsPerPage +\n                        (postulantes.indexOf(item) + 1)\n                      }}\n                    </td>\n                  </template>\n                  <template v-slot:[`item.nombre`]=\"{ item }\">\n                    <td>\n                      {{ item.a_persona.paterno }} {{ item.a_persona.materno }}\n                      {{ item.a_persona.nombres }}\n                    </td>\n                  </template>\n                  <template v-slot:[`item.fecha_nacimiento`]=\"{ item }\">\n                    <td>\n                      {{ item.a_persona.fecha_nacimiento | formatdate }}\n                    </td>\n                  </template>\n                  <template v-slot:[`item.fecha_deposito`]=\"{ item }\">\n                    <td>\n                      {{ item.deposito.fecha | formatdate }}\n                    </td>\n                  </template>\n                </v-data-table>\n                <div class=\"v-data-footer\">\n                  <v-row>\n                    <v-col cols=\"12\" sm=\"4\">\n                      <div class=\"v-data-footer__select\">\n                        Filas por página:\n                        <v-select\n                          :items=\"[10, 20, 30, 50, 100]\"\n                          v-model=\"options.itemsPerPage\"\n                          @change=\"changePerPage()\"\n                          hide-details\n                          class=\"my-0\"\n                        ></v-select>\n                      </div>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"8\" class=\"text-center\">\n                      <v-pagination\n                        v-model=\"options.page\"\n                        :length=\"options.pageCount\"\n                        :total-visible=\"5\"\n                        @input=\"changePage\"\n                      ></v-pagination>\n                    </v-col>\n                  </v-row>\n                </div>\n                <div v-if=\"type_state === 2\">\n                  <span class=\"red--text\">\n                    No hay registro con la\n                    <b>Cédula Identidad o DNA</b> ingresada.\n                  </span>\n                </div>\n              </v-card-text>\n            </v-card>\n          </v-col>\n        </v-row>\n      </div>\n      <div v-else>\n        <notify-card\n          :title=\"notify_title\"\n          :load=\"notify_load\"\n          process=\"el proceso de admisión\"\n        ></notify-card>\n      </div>\n    </v-container>\n    <v-dialog v-model=\"confirmDialog\" width=\"300\">\n      <v-card>\n        <v-card-title class=\"headline grey lighten-3\" primary-title>\n          <span class=\"headline\">Alerta</span>\n        </v-card-title>\n        <v-card-text class=\"text-center\">\n          <!-- <p class=\"text-center\">¿Está seguro(a) de confirmar el registro?</p> -->\n          <p>\n            ¿Está seguro(a) de habilitar al postulante\n            <b class=\"blue--text\">{{ postulante }}</b> para la\n            <b>Prueba de Aptitud o Escrita</b>?\n          </p>\n          <p>Dando su VoBo de que el <b>depósito bancario</b> es correcto.</p>\n        </v-card-text>\n        <v-divider></v-divider>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn\n            color=\"success\"\n            :loading=\"load_send\"\n            text\n            @click=\"checkPostulante()\"\n            >Aceptar</v-btn\n          >\n          <v-btn color=\"red\" text @click=\"confirmDialog = false\"\n            >Cancelar</v-btn\n          >\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport HeaderTitle from \"@/components/HeaderTitle\";\nimport NotifyCard from \"@/components/NotifyCard\";\nimport Service from \"../utils/general\";\nimport PDFService from \"../utils/pdf\";\nimport pdfMake from \"pdfmake/build/pdfmake\";\nimport pdfFonts from \"pdfmake/build/vfs_fonts\";\npdfMake.vfs = pdfFonts.pdfMake.vfs;\nimport { mapActions } from \"vuex\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"admision-verificado-caja\",\n  components: {\n    HeaderTitle,\n    NotifyCard,\n  },\n  data: () => ({\n    notify_title: \"Cargando\",\n    notify_load: true,\n    loading: false,\n    load_search: false,\n    load_send: false,\n    load_report: false,\n    type_state: 1,\n    cedula_dni: \"\",\n    convocatoria: {\n      id: null,\n      cite: \"\",\n    },\n    headers: [\n      {\n        text: \"#\",\n        align: \"start\",\n        sortable: false,\n        value: \"num\",\n      },\n      { text: \"Apellidos y nombres\", value: \"nombre\" },\n      { text: \"Cédula identidad\", value: \"a_persona.cedula_dni\" },\n      { text: \"Complemento\", value: \"a_persona.complemento\" },\n      { text: \"Fecha nacimiento\", value: \"fecha_nacimiento\" },\n      { text: \"Celular\", value: \"a_persona.celular\" },\n      { text: \"Especialidad\", value: \"especialidad.descripcion\" },\n      { text: \"Nro. depósito\", value: \"deposito.numero\" },\n      { text: \"Fecha depósito\", value: \"fecha_deposito\" },\n    ],\n    options: {\n      search: \"\",\n      convocatoria_id: \"\",\n      institucion_id: \"\",\n      sigla: \"A\",\n      page: 1,\n      pageCount: 0,\n      itemsPerPage: 10,\n    },\n    postulantes: [],\n    postulante: \"\",\n    postulante_id: \"\",\n    confirmDialog: false,\n    user: null,\n  }),\n  created() {\n    this.user = Service.getUser();\n    if (this.user == null) {\n      this.$router.replace({ name: \"root\" });\n    }\n  },\n  mounted() {\n    const roles = [9, 10, 11];\n    if (this.user && roles.includes(this.user.rid)) {\n      this.options.institucion_id = this.user.ies;\n      this.getModalidades();\n    } else {\n      this.$router.replace({ name: \"root\" });\n    }\n  },\n  methods: {\n    ...mapActions([\"toast\"]),\n    getModalidades() {\n      this.notify_load = true;\n      axios\n        .get(Service.getUrlAPI() + \"admision/modalidad\", Service.getHeader())\n        .then((response) => {\n          this.convocatoria = response.data.convocatoria\n            ? response.data.convocatoria\n            : { id: null, cite: \"\" };\n          this.options.convocatoria_id = this.convocatoria.id;\n          this.notify_title = \"Notificación\";\n          this.notify_load = false;\n          this.getPostulantes();\n        })\n        .catch(() => {\n          this.notify_load = false;\n          console.error(\"Parametros no encontrado\");\n        });\n    },\n\n    getPostulantes() {\n      //admision/postulantes\n      this.loading = true;\n      axios\n        .post(\n          Service.getUrlAPI() + \"admision/verificado/caja\",\n          this.options,\n          Service.getHeader()\n        )\n        .then((response) => {\n          this.loading = false;\n          this.postulantes = response.data.rows;\n          if (response.data.count > 0) {\n            this.options.pageCount =\n              Math.floor(response.data.count / this.options.itemsPerPage) + 1;\n          }\n        })\n        .catch((error) => {\n          this.loading = false;\n          console.error(\"Error al cargar registros\", error);\n        });\n    },\n\n    changeSearch() {\n      if (this.options.search && this.options.search.length > 2) {\n        this.getPostulantes();\n      }\n    },\n\n    changePerPage() {\n      this.options.page = 1;\n      this.getPostulantes();\n    },\n\n    changePage() {\n      this.getPostulantes();\n    },\n\n    reportVerificado() {\n      this.load_report = true;\n      axios\n        .post(\n          Service.getUrlAPI() + \"admision/verificado/cajapdf\",\n          this.options,\n          Service.getHeader()\n        )\n        .then((response) => {\n          const currentDate = new Date().toISOString();\n          const institucion = response.data.esfm;\n          let bodyPdf = [\n            {\n              stack: [\n                {\n                  marginTop: -20,\n                  fontSize: 6,\n                  text: `Fecha actual\\n${PDFService.formatDate(currentDate)}`,\n                  alignment: \"right\",\n                },\n                {\n                  fontSize: 14,\n                  bold: true,\n                  color: \"#212121\",\n                  text: this.convocatoria.cite,\n                  alignment: \"center\",\n                },\n                {\n                  fontSize: 12,\n                  bold: true,\n                  color: \"#424242\",\n                  text: \"POSTULANTES VERIFICADOS POR CAJA\",\n                  alignment: \"center\",\n                },\n                {\n                  fontSize: 11,\n                  bold: true,\n                  color: \"#424242\",\n                  text: `MODALIDAD ${this.options.sigla} - ${this.convocatoria.gestion}`,\n                  alignment: \"center\",\n                },\n                {\n                  marginTop: 8,\n                  fontSize: 9,\n                  columns: [\n                    {\n                      width: \"9%\",\n                      bold: true,\n                      text: \"Departamento: \",\n                      style: \"header\",\n                    },\n                    {\n                      width: \"16%\",\n                      text: institucion\n                        ? institucion.departamento.descripcion\n                        : \"\",\n                    },\n                    {\n                      width: \"6.5%\",\n                      bold: true,\n                      text: \"ESFM/UA: \",\n                    },\n                    {\n                      width: \"68.5%\",\n                      text: institucion ? institucion.nombre : \"\",\n                    },\n                  ],\n                },\n              ],\n            },\n          ];\n          let tableContent = {\n            marginTop: 5,\n            fontSize: 8,\n            layout: \"lightHorizontalLines\",\n            table: {\n              headerRows: 1,\n              widths: [\"3%\", \"33%\", \"13%\", \"32%\", \"10%\", \"10%\"],\n              body: [\n                [\n                  {\n                    text: \"#\",\n                    bold: true,\n                    fillColor: \"#dddddd\",\n                  },\n                  {\n                    text: \"Apellidos y Nombres\",\n                    bold: true,\n                    fillColor: \"#dddddd\",\n                  },\n                  {\n                    text: \"Cédula identidad\",\n                    bold: true,\n                    fillColor: \"#dddddd\",\n                  },\n                  {\n                    text: \"Especialidad\",\n                    bold: true,\n                    fillColor: \"#dddddd\",\n                  },\n                  {\n                    text: \"Nro. depósito\",\n                    bold: true,\n                    fillColor: \"#dddddd\",\n                  },\n                  {\n                    text: \"Fecha depósito\",\n                    bold: true,\n                    fillColor: \"#dddddd\",\n                  },\n                ],\n              ],\n            },\n          };\n          let nombre = \"\";\n          response.data.registro.forEach((item, index) => {\n            nombre = `${item.a_persona.paterno ? item.a_persona.paterno : \"\"} ${\n              item.a_persona.materno ? item.a_persona.materno : \"\"\n            } ${item.a_persona.nombres}`;\n            tableContent.table.body.push([\n              index + 1,\n              nombre,\n              item.a_persona.cedula_dni,\n              item.especialidad.descripcion,\n              item.deposito.numero,\n              PDFService.formatDate(item.deposito.fecha),\n            ]);\n          });\n          bodyPdf.push(tableContent);\n          var docDefinition = {\n            pageSize: \"LETTER\",\n            pageOrientation: \"landscape\",\n            pageMargins: [40, 70, 40, 35],\n            header: PDFService.setting().header,\n            footer: PDFService.setting().footer,\n            content: bodyPdf,\n          };\n          pdfMake\n            .createPdf(docDefinition)\n            .download(\"Verificados-Mod\" + this.options.sigla + \".pdf\");\n          // pdfMake.createPdf(docDefinition).open();\n          this.load_report = false;\n        })\n        .catch((err) => {\n          this.load_report = false;\n          console.error(err);\n        });\n    },\n  },\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdmisionVerificadoCaja.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdmisionVerificadoCaja.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdmisionVerificadoCaja.vue?vue&type=template&id=5ebd607b&\"\nimport script from \"./AdmisionVerificadoCaja.vue?vue&type=script&lang=js&\"\nexport * from \"./AdmisionVerificadoCaja.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}