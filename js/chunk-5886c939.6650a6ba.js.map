{"version":3,"sources":["webpack:///./src/components/NotifyCard.vue","webpack:///src/components/NotifyCard.vue","webpack:///./src/components/NotifyCard.vue?9bfa","webpack:///./src/components/NotifyCard.vue?f7fe","webpack:///../../../src/components/VTextarea/VTextarea.ts","webpack:///./src/views/AdmisionDepurarHabilitadoEscrita.vue","webpack:///src/views/AdmisionDepurarHabilitadoEscrita.vue","webpack:///./src/views/AdmisionDepurarHabilitadoEscrita.vue?9b19","webpack:///./src/views/AdmisionDepurarHabilitadoEscrita.vue?04e4"],"names":["attrs","staticClass","_vm","render","staticRenderFns","props","component","baseMixins","mixins","VTextField","extend","name","autoGrow","Boolean","noResize","rowHeight","type","Number","String","default","validator","v","isNaN","parseFloat","rows","parseInt","computed","classes","this","noResizeHandle","options","call","watch","val","$nextTick","calculateInputHeight","$refs","input","_a","style","removeProperty","lazyValue","mounted","setTimeout","methods","height","scrollHeight","minHeight","Math","max","genInput","tag","data","onInput","e","onKeyDown","isFocused","keyCode","stopPropagation","$emit","ref","$event","preventDefault","_c","model","callback","$set","expression","on","changeSearch","loading","headers","scopedSlots","key","fn","item","itemsPerPage","changePerPage","value","page","controlDialog","updateAptitud","components","HeaderTitle","NotifyCard","notify_title","notify_load","load_search","load_send","convocatoria","id","cite","gestion","text","align","sortable","search","convocatoria_id","institucion_id","pageCount","postulantes","nombre","postulante","observacion","serve","user","created","getParametricas","axios","get","Service","then","response","catch","console","getPostulantes","post","searchPostulantes","color","changePage","changeInstitucion","confirmObservado"],"mappings":"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","file":"js/chunk-5886c939.6650a6ba.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-card',{staticClass:\"text-center\"},[_c('v-card-title',[_vm._v(_vm._s(_vm.title))]),(_vm.load)?_c('v-card-text',[_c('v-progress-circular',{attrs:{\"size\":70,\"width\":7,\"color\":\"blue\",\"indeterminate\":\"\"}})],1):_c('v-card-text',[_c('h3',{staticClass:\"mt-2\"},[_vm._v(\"No hay convocatoria habilitada para \"+_vm._s(_vm.process)+\".\")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card class=\"text-center\">\n    <v-card-title>{{ title }}</v-card-title>\n    <v-card-text v-if=\"load\">\n      <v-progress-circular\n        :size=\"70\"\n        :width=\"7\"\n        color=\"blue\"\n        indeterminate\n      ></v-progress-circular>\n    </v-card-text>\n    <v-card-text v-else>\n      <h3 class=\"mt-2\">No hay convocatoria habilitada para {{ process }}.</h3>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nexport default {\n  props: [\"title\", \"process\", \"load\"],\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotifyCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotifyCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NotifyCard.vue?vue&type=template&id=49680eed&\"\nimport script from \"./NotifyCard.vue?vue&type=script&lang=js&\"\nexport * from \"./NotifyCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Styles\nimport './VTextarea.sass'\n\n// Extensions\nimport VTextField from '../VTextField/VTextField'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport Vue from 'vue'\n\ninterface options extends Vue {\n  $refs: {\n    input: HTMLTextAreaElement\n  }\n}\n\nconst baseMixins = mixins<options &\n  InstanceType<typeof VTextField>\n>(\n  VTextField\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-textarea',\n\n  props: {\n    autoGrow: Boolean,\n    noResize: Boolean,\n    rowHeight: {\n      type: [Number, String],\n      default: 24,\n      validator: (v: any) => !isNaN(parseFloat(v)),\n    },\n    rows: {\n      type: [Number, String],\n      default: 5,\n      validator: (v: any) => !isNaN(parseInt(v, 10)),\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-textarea': true,\n        'v-textarea--auto-grow': this.autoGrow,\n        'v-textarea--no-resize': this.noResizeHandle,\n        ...VTextField.options.computed.classes.call(this),\n      }\n    },\n    noResizeHandle (): boolean {\n      return this.noResize || this.autoGrow\n    },\n  },\n\n  watch: {\n    autoGrow (val: boolean) {\n      this.$nextTick(() => {\n        val\n          ? this.calculateInputHeight()\n          : this.$refs.input?.style.removeProperty('height')\n      })\n    },\n    lazyValue () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n    rowHeight () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n  },\n\n  mounted () {\n    setTimeout(() => {\n      this.autoGrow && this.calculateInputHeight()\n    }, 0)\n  },\n\n  methods: {\n    calculateInputHeight () {\n      const input = this.$refs.input\n      if (!input) return\n\n      input.style.height = '0'\n      const height = input.scrollHeight\n      const minHeight = parseInt(this.rows, 10) * parseFloat(this.rowHeight)\n      // This has to be done ASAP, waiting for Vue\n      // to update the DOM causes ugly layout jumping\n      input.style.height = Math.max(minHeight, height) + 'px'\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.tag = 'textarea'\n      delete input.data!.attrs!.type\n      input.data!.attrs!.rows = this.rows\n\n      return input\n    },\n    onInput (e: Event) {\n      VTextField.options.methods.onInput.call(this, e)\n      this.autoGrow && this.calculateInputHeight()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      // Prevents closing of a\n      // dialog when pressing\n      // enter\n      if (this.isFocused && e.keyCode === 13) {\n        e.stopPropagation()\n      }\n\n      this.$emit('keydown', e)\n    },\n  },\n})\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-container',{attrs:{\"grid-list-xl\":\"\",\"fluid\":\"\"}},[_c('header-title',{attrs:{\"title\":\"Revisar habilitado escrita\"}}),(_vm.convocatoria.id > 0)?_c('div',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-text',[_c('p',{staticClass:\"subtitle-1 font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm.convocatoria.cite)+\" \")]),_c('p',[_vm._v(\" Lista de resultados de la \"),_c('b',[_vm._v(\"prueba de aptitud\")]),_vm._v(\" para su revisión, modalidad \"),_c('b',[_vm._v(\"A\")]),_vm._v(\". \")])])],1)],1)],1),_c('v-row',{staticClass:\"mb-1\"},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-text',[_c('v-form',{ref:\"formp\",on:{\"submit\":function($event){$event.preventDefault();return _vm.searchPostulantes()}}},[_c('v-row',{staticClass:\"mt-1\"},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"ESFM/UA\",\"items\":_vm.instituciones,\"item-text\":\"nombre\",\"item-value\":\"id\",\"rules\":[(v) => !!v || 'Seleccione una opción'],\"hide-details\":\"\",\"filled\":\"\"},on:{\"change\":function($event){return _vm.changeInstitucion()}},model:{value:(_vm.options.institucion_id),callback:function ($$v) {_vm.$set(_vm.options, \"institucion_id\", $$v)},expression:\"options.institucion_id\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"CI, nombre, apellidos\",\"hint\":\"1234567 o 1234567-1G\",\"hide-details\":\"\",\"clearable\":\"\",\"filled\":\"\"},on:{\"input\":_vm.changeSearch},model:{value:(_vm.options.search),callback:function ($$v) {_vm.$set(_vm.options, \"search\", $$v)},expression:\"options.search\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('v-btn',{attrs:{\"type\":\"submit\",\"large\":\"\",\"color\":\"primary\",\"loading\":_vm.load_search}},[_c('v-icon',[_vm._v(\"mdi-magnify\")]),_vm._v(\" Buscar \")],1)],1)],1)],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"loading\":_vm.loading,\"headers\":_vm.headers,\"items\":_vm.postulantes,\"page\":_vm.options.page,\"items-per-page\":_vm.options.itemsPerPage,\"hide-default-footer\":\"\"},on:{\"update:page\":function($event){return _vm.$set(_vm.options, \"page\", $event)}},scopedSlots:_vm._u([{key:`item.num`,fn:function({ item }){return [_c('td',[_vm._v(\" \"+_vm._s((_vm.options.page - 1) * _vm.options.itemsPerPage + (_vm.postulantes.indexOf(item) + 1))+\" \")])]}},{key:`item.a_persona.fecha_nacimiento`,fn:function({ item }){return [_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"formatdate\")(item.a_persona.fecha_nacimiento))+\" \")])]}},{key:`item.estado`,fn:function({ item }){return [_c('td',[(item.estado_id == 6)?_c('v-chip',{attrs:{\"small\":\"\",\"color\":\"blue lighten-3\"}},[_vm._v(\" observado \")]):_c('v-chip',{attrs:{\"small\":\"\",\"color\":\"green lighten-4\"}},[_vm._v(\" habilitado \")])],1)]}},{key:`item.accion`,fn:function({ item }){return [_c('td',[_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"success\"},on:{\"click\":function($event){return _vm.confirmObservado(\n                          item.id,\n                          item.a_persona.nombre_completo,\n                          item.observacion\n                        )}}},[_vm._v(\" Observar \")])],1)]}}],null,true)}),_c('div',{staticClass:\"v-data-footer\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}},[_c('div',{staticClass:\"v-data-footer__select\"},[_vm._v(\" Filas por página: \"),_c('v-select',{staticClass:\"my-0\",attrs:{\"items\":[10, 20, 30, 50, 100],\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.changePerPage()}},model:{value:(_vm.options.itemsPerPage),callback:function ($$v) {_vm.$set(_vm.options, \"itemsPerPage\", $$v)},expression:\"options.itemsPerPage\"}})],1)]),_c('v-col',{staticClass:\"text-center\",attrs:{\"cols\":\"12\",\"sm\":\"8\"}},[_c('v-pagination',{attrs:{\"length\":_vm.options.pageCount,\"total-visible\":5},on:{\"input\":_vm.changePage},model:{value:(_vm.options.page),callback:function ($$v) {_vm.$set(_vm.options, \"page\", $$v)},expression:\"options.page\"}})],1)],1)],1)],1)],1)],1)],1)],1):_c('div',[_c('notify-card',{attrs:{\"title\":_vm.notify_title,\"load\":_vm.notify_load,\"process\":\"el proceso de admisión\"}})],1)],1),_c('v-dialog',{attrs:{\"width\":\"350\"},model:{value:(_vm.controlDialog),callback:function ($$v) {_vm.controlDialog=$$v},expression:\"controlDialog\"}},[_c('v-card',[_c('v-form',{ref:\"formo\",on:{\"submit\":function($event){$event.preventDefault();return _vm.updateAptitud()}}},[_c('v-card-title',{staticClass:\"headline grey lighten-3\",attrs:{\"primary-title\":\"\"}},[_c('span',{staticClass:\"headline\"},[_vm._v(\"Alerta\")])]),_c('v-card-text',{staticClass:\"text-center\"},[_c('p',[_vm._v(\" ¿Hay alguna observación del/la postulante \"),_c('br'),_c('b',{staticClass:\"blue--text\"},[_vm._v(_vm._s(_vm.nombre))]),_vm._v(\"? \")]),_c('p',{staticClass:\"red--text\"},[_vm._v(\"¿Está seguro/a de observar al postulante?\")]),_c('v-row',{staticClass:\"mt-1\"},[_c('v-textarea',{attrs:{\"outlined\":\"\",\"label\":\"Detalle observación\",\"rules\":[(v) => !!v || 'El campo es requerido'],\"no-resize\":\"\",\"rows\":\"3\"},model:{value:(_vm.postulante.observacion),callback:function ($$v) {_vm.$set(_vm.postulante, \"observacion\", $$v)},expression:\"postulante.observacion\"}})],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"type\":\"submit\",\"color\":\"success\",\"loading\":_vm.load_send,\"text\":\"\"}},[_vm._v(\"Aceptar\")]),_c('v-btn',{attrs:{\"color\":\"red\",\"text\":\"\"},on:{\"click\":function($event){_vm.controlDialog = false}}},[_vm._v(\"Cancelar\")])],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-container grid-list-xl fluid>\n      <header-title title=\"Revisar habilitado escrita\"></header-title>\n      <div v-if=\"convocatoria.id > 0\">\n        <v-row>\n          <v-col cols=\"12\">\n            <v-card>\n              <v-card-text>\n                <p class=\"subtitle-1 font-weight-bold\">\n                  {{ convocatoria.cite }}\n                </p>\n                <p>\n                  Lista de resultados de la <b>prueba de aptitud</b> para su\n                  revisión, modalidad <b>A</b>.\n                </p>\n              </v-card-text>\n            </v-card>\n          </v-col>\n        </v-row>\n        <v-row class=\"mb-1\">\n          <v-col cols=\"12\">\n            <v-card>\n              <v-card-text>\n                <v-form ref=\"formp\" @submit.prevent=\"searchPostulantes()\">\n                  <v-row class=\"mt-1\">\n                    <v-col cols=\"12\" sm=\"3\">\n                      <v-select\n                        label=\"ESFM/UA\"\n                        v-model=\"options.institucion_id\"\n                        :items=\"instituciones\"\n                        item-text=\"nombre\"\n                        item-value=\"id\"\n                        :rules=\"[(v) => !!v || 'Seleccione una opción']\"\n                        @change=\"changeInstitucion()\"\n                        hide-details\n                        filled\n                      ></v-select>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"3\">\n                      <v-text-field\n                        v-model=\"options.search\"\n                        label=\"CI, nombre, apellidos\"\n                        @input=\"changeSearch\"\n                        hint=\"1234567 o 1234567-1G\"\n                        hide-details\n                        clearable\n                        filled\n                      ></v-text-field>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"3\">\n                      <v-btn\n                        type=\"submit\"\n                        large\n                        color=\"primary\"\n                        :loading=\"load_search\"\n                      >\n                        <v-icon>mdi-magnify</v-icon>\n                        Buscar\n                      </v-btn>\n                    </v-col>\n                  </v-row>\n                </v-form>\n                <v-data-table\n                  :loading=\"loading\"\n                  :headers=\"headers\"\n                  :items=\"postulantes\"\n                  :page.sync=\"options.page\"\n                  :items-per-page=\"options.itemsPerPage\"\n                  hide-default-footer\n                  class=\"elevation-1\"\n                >\n                  <template v-slot:[`item.num`]=\"{ item }\">\n                    <td>\n                      {{\n                        (options.page - 1) * options.itemsPerPage +\n                        (postulantes.indexOf(item) + 1)\n                      }}\n                    </td>\n                  </template>\n                  <template v-slot:[`item.a_persona.fecha_nacimiento`]=\"{ item }\">\n                    <td>\n                      {{ item.a_persona.fecha_nacimiento | formatdate }}\n                    </td>\n                  </template>\n                  <template v-slot:[`item.estado`]=\"{ item }\">\n                    <td>\n                      <v-chip\n                        v-if=\"item.estado_id == 6\"\n                        small\n                        color=\"blue lighten-3\"\n                      >\n                        observado\n                      </v-chip>\n                      <v-chip v-else small color=\"green lighten-4\">\n                        habilitado\n                      </v-chip>\n                    </td>\n                  </template>\n                  <template v-slot:[`item.accion`]=\"{ item }\">\n                    <td>\n                      <v-btn\n                        small\n                        color=\"success\"\n                        @click=\"\n                          confirmObservado(\n                            item.id,\n                            item.a_persona.nombre_completo,\n                            item.observacion\n                          )\n                        \"\n                      >\n                        Observar\n                      </v-btn>\n                    </td>\n                  </template>\n                </v-data-table>\n                <div class=\"v-data-footer\">\n                  <v-row>\n                    <v-col cols=\"12\" sm=\"4\">\n                      <div class=\"v-data-footer__select\">\n                        Filas por página:\n                        <v-select\n                          :items=\"[10, 20, 30, 50, 100]\"\n                          v-model=\"options.itemsPerPage\"\n                          @change=\"changePerPage()\"\n                          hide-details\n                          class=\"my-0\"\n                        ></v-select>\n                      </div>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"8\" class=\"text-center\">\n                      <v-pagination\n                        v-model=\"options.page\"\n                        :length=\"options.pageCount\"\n                        :total-visible=\"5\"\n                        @input=\"changePage\"\n                      ></v-pagination>\n                    </v-col>\n                  </v-row>\n                </div>\n              </v-card-text>\n            </v-card>\n          </v-col>\n        </v-row>\n      </div>\n      <div v-else>\n        <notify-card\n          :title=\"notify_title\"\n          :load=\"notify_load\"\n          process=\"el proceso de admisión\"\n        ></notify-card>\n      </div>\n    </v-container>\n    <v-dialog v-model=\"controlDialog\" width=\"350\">\n      <v-card>\n        <v-form ref=\"formo\" @submit.prevent=\"updateAptitud()\">\n          <v-card-title class=\"headline grey lighten-3\" primary-title>\n            <span class=\"headline\">Alerta</span>\n          </v-card-title>\n          <v-card-text class=\"text-center\">\n            <p>\n              ¿Hay alguna observación del/la postulante <br />\n              <b class=\"blue--text\">{{ nombre }}</b\n              >?\n            </p>\n            <p class=\"red--text\">¿Está seguro/a de observar al postulante?</p>\n            <v-row class=\"mt-1\">\n              <v-textarea\n                outlined\n                label=\"Detalle observación\"\n                v-model=\"postulante.observacion\"\n                :rules=\"[(v) => !!v || 'El campo es requerido']\"\n                no-resize\n                rows=\"3\"\n              ></v-textarea>\n            </v-row>\n          </v-card-text>\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn type=\"submit\" color=\"success\" :loading=\"load_send\" text\n              >Aceptar</v-btn\n            >\n            <v-btn color=\"red\" text @click=\"controlDialog = false\"\n              >Cancelar</v-btn\n            >\n          </v-card-actions>\n        </v-form>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport HeaderTitle from \"@/components/HeaderTitle\";\nimport NotifyCard from \"@/components/NotifyCard\";\nimport Service from \"../utils/general\";\nimport { mapActions } from \"vuex\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"admision-verificar-caja\",\n  components: {\n    HeaderTitle,\n    NotifyCard,\n  },\n  data: () => ({\n    notify_title: \"Cargando\",\n    notify_load: true,\n    loading: false,\n    load_search: false,\n    load_send: false,\n    convocatoria: {\n      id: null,\n      cite: \"\",\n      gestion: \"\",\n    },\n    headers: [\n      {\n        text: \"#\",\n        align: \"start\",\n        sortable: false,\n        value: \"num\",\n      },\n      {\n        text: \"Apellidos y nombres\",\n        value: \"a_persona.nombre_completo\",\n      },\n      { text: \"Cédula identidad\", value: \"a_persona.cedula_dni\" },\n      { text: \"Fecha nacimiento\", value: \"a_persona.fecha_nacimiento\" },\n      { text: \"Especialidad\", value: \"especialidad.descripcion\" },\n      { text: \"Estado\", value: \"estado\" },\n      { text: \"Acción\", value: \"accion\", sortable: false },\n    ],\n    options: {\n      search: \"\",\n      convocatoria_id: \"\",\n      institucion_id: \"\",\n      page: 1,\n      pageCount: 0,\n      itemsPerPage: 10,\n    },\n    postulantes: [],\n    nombre: \"\",\n    postulante: {\n      id: \"\",\n      convocatoria_id: \"\",\n      observacion: \"\",\n    },\n    controlDialog: false,\n    serve: \"\",\n    user: null,\n  }),\n  created() {\n    this.user = Service.getUser();\n    if (this.user == null) {\n      this.$router.replace({ name: \"root\" });\n    }\n  },\n  mounted() {\n    const roles = [1, 12,13];\n    if (this.user && roles.includes(this.user.rid)) {\n      this.getParametricas();\n    } else {\n      this.$router.replace({ name: \"root\" });\n    }\n  },\n  methods: {\n    ...mapActions([\"toast\"]),\n    getParametricas() {\n      this.notify_load = true;\n      axios\n        .get(\n          Service.getUrlAPI() + \"admision/convocatoria/institucion\",\n          Service.getHeader()\n        )\n        .then((response) => {\n          this.convocatoria = response.data.convocatorias\n            ? response.data.convocatorias[0]\n            : { id: null, cite: \"\", gestion: \"\" };\n          this.instituciones = response.data.instituciones;\n          this.options.convocatoria_id = this.convocatoria.id;\n          this.notify_title = \"Notificación\";\n          this.notify_load = false;\n        })\n        .catch(() => {\n          this.notify_load = false;\n          console.error(\"Parametros no encontrado\");\n        });\n    },\n\n    getPostulantes() {\n      this.loading = true;\n      axios\n        .post(\n          Service.getUrlAPI() + \"admision/lista/habilitado/escrita\",\n          this.options,\n          Service.getHeader()\n        )\n        .then((response) => {\n          this.loading = false;\n          this.postulantes = response.data.rows;\n          if (response.data.count > 0) {\n            this.options.pageCount =\n              Math.floor(response.data.count / this.options.itemsPerPage) + 1;\n          }\n        })\n        .catch((error) => {\n          this.loading = false;\n          console.error(\"Error al cargar registros\", error);\n        });\n    },\n\n    searchPostulantes() {\n      this.load_search = true;\n      if (this.$refs.formp.validate()) {\n        this.getPostulantes();\n        this.load_search = false;\n      } else {\n        this.load_search = false;\n        this.toast({ color: \"info\", text: \"Seleccione ESFM/UA\" });\n      }\n    },\n\n    changeSearch() {\n      if (this.options.search && this.options.search.length > 2) {\n        this.getPostulantes();\n      }\n    },\n\n    changePerPage() {\n      this.options.page = 1;\n      this.getPostulantes();\n    },\n\n    changePage() {\n      this.getPostulantes();\n    },\n\n    changeInstitucion() {\n      this.postulantes = [];\n      this.options.page = 1;\n      this.options.pageCount = 0;\n      this.options.itemsPerPage = 10;\n      this.getPostulantes();\n    },\n\n    confirmObservado(postulante_id, nombre_completo, observacion) {\n      this.nombre = nombre_completo;\n      this.postulante.id = postulante_id;\n      this.postulante.convocatoria_id = this.options.convocatoria_id;\n      this.postulante.observacion = observacion;\n      this.controlDialog = true;\n    },\n\n    updateAptitud() {\n      if (this.$refs[\"formo\"][0].validate()) {\n        this.load_send = true;\n        axios\n          .post(\n            Service.getUrlAPI() + \"admision/habilitado/escrita/observar\",\n            this.postulante,\n            Service.getHeader()\n          )\n          .then((response) => {\n            this.load_send = false;\n            this.postulante.id = \"\";\n            this.postulante.observacion = \"\";\n            if (this.$refs.formo) this.$refs[\"formo\"][0].reset();\n            this.toast({ color: \"success\", text: response.data });\n            this.controlDialog = false;\n            this.getPostulantes();\n          })\n          .catch(() => {\n            this.load_send = false;\n            this.toast({ color: \"error\", text: \"No se pudo confirmar\" });\n          });\n      } else {\n        this.toast({\n          color: \"info\",\n          text: \"Ingrese la observación\",\n        });\n      }\n    },\n  },\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdmisionDepurarHabilitadoEscrita.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdmisionDepurarHabilitadoEscrita.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdmisionDepurarHabilitadoEscrita.vue?vue&type=template&id=2761e35c&\"\nimport script from \"./AdmisionDepurarHabilitadoEscrita.vue?vue&type=script&lang=js&\"\nexport * from \"./AdmisionDepurarHabilitadoEscrita.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}