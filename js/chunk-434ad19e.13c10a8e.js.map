{"version":3,"sources":["webpack:///./src/views/AdmisionGenerarButaca.vue","webpack:///src/views/AdmisionGenerarButaca.vue","webpack:///./src/views/AdmisionGenerarButaca.vue?d836","webpack:///./src/views/AdmisionGenerarButaca.vue?1475","webpack:///./src/components/NotifyCard.vue","webpack:///src/components/NotifyCard.vue","webpack:///./src/components/NotifyCard.vue?9bfa","webpack:///./src/components/NotifyCard.vue?f7fe"],"names":["staticClass","_c","on","preventDefault","attrs","_vm","instituciones","v","model","value","expression","changeSearch","callback","options","$set","scopedSlots","key","item","fn","changePage","notify_load","confirmDialog","load_generate","$event","staticRenderFns","render","pdfMake","name","components","HeaderTitle","NotifyCard","data","notify_title","loading","load_report","convocatoria","id","cite","descripcion","gestion","headers","text","align","sortable","search","convocatoria_id","institucion_id","page","pageCount","itemsPerPage","postulantes","user","created","mounted","methods","getParametricas","axios","get","Service","then","response","catch","console","getPostulantes","post","Math","searchPostulantes","color","changePerPage","changeInstitucion","generateButaca","reportButaca","bodyPdf","PDFService","watermark","opacity","angle","pageSize","pageMargins","content","component","props"],"mappings":"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","file":"js/chunk-434ad19e.13c10a8e.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-container',{attrs:{\"grid-list-xl\":\"\",\"fluid\":\"\"}},[_c('header-title',{attrs:{\"title\":\"Generar y listar butaca\"}}),(_vm.convocatoria.id > 0)?_c('div',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-text',[_c('p',{staticClass:\"subtitle-1 font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm.convocatoria.cite)+\" \")]),_c('p',[_vm._v(\" Lista de postulantes, sedes y butaca por EFM/UA modalidad \"),_c('b',[_vm._v(\"A\")]),_vm._v(\". \")])])],1)],1)],1),_c('v-row',{staticClass:\"mb-1\"},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-text',[_c('v-form',{ref:\"formp\",on:{\"submit\":function($event){$event.preventDefault();return _vm.searchPostulantes()}}},[_c('v-row',{staticClass:\"mt-1\"},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"ESFM/UA\",\"items\":_vm.instituciones,\"item-text\":\"nombre\",\"item-value\":\"id\",\"rules\":[(v) => !!v || 'Seleccione una opción'],\"hide-details\":\"\",\"filled\":\"\"},on:{\"change\":function($event){return _vm.changeInstitucion()}},model:{value:(_vm.options.institucion_id),callback:function ($$v) {_vm.$set(_vm.options, \"institucion_id\", $$v)},expression:\"options.institucion_id\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"CI, nombre, apellidos\",\"hint\":\"1234567 o 1234567-1G\",\"hide-details\":\"\",\"clearable\":\"\",\"filled\":\"\"},on:{\"input\":_vm.changeSearch},model:{value:(_vm.options.search),callback:function ($$v) {_vm.$set(_vm.options, \"search\", $$v)},expression:\"options.search\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-btn',{attrs:{\"type\":\"submit\",\"large\":\"\",\"color\":\"primary\"}},[_c('v-icon',[_vm._v(\"mdi-magnify\")]),_vm._v(\" Buscar \")],1),_c('v-btn',{staticClass:\"ml-1\",attrs:{\"type\":\"button\",\"large\":\"\",\"color\":\"error\",\"loading\":_vm.load_report,\"disabled\":_vm.postulantes.length == 0},on:{\"click\":_vm.reportButaca}},[_c('v-icon',[_vm._v(\"mdi-file-download\")]),_vm._v(\" PDF \")],1)],1)],1)],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"loading\":_vm.loading,\"headers\":_vm.headers,\"items\":_vm.postulantes,\"page\":_vm.options.page,\"items-per-page\":_vm.options.itemsPerPage,\"hide-default-footer\":\"\"},on:{\"update:page\":function($event){return _vm.$set(_vm.options, \"page\", $event)}},scopedSlots:_vm._u([{key:`item.num`,fn:function({ item }){return [_c('td',[_vm._v(\" \"+_vm._s((_vm.options.page - 1) * _vm.options.itemsPerPage + (_vm.postulantes.indexOf(item) + 1))+\" \")])]}},{key:`item.nombre`,fn:function({ item }){return [_c('td',[_vm._v(\" \"+_vm._s(item.a_postulante.a_persona.paterno)+\" \"+_vm._s(item.a_postulante.a_persona.materno)+\" \"+_vm._s(item.a_postulante.a_persona.nombres)+\" \")])]}},{key:`item.a_persona.fecha_nacimiento`,fn:function({ item }){return [_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"formatdate\")(item.a_persona.fecha_nacimiento))+\" \")])]}}],null,true)}),_c('div',{staticClass:\"v-data-footer\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}},[_c('div',{staticClass:\"v-data-footer__select\"},[_vm._v(\" Filas por página: \"),_c('v-select',{staticClass:\"my-0\",attrs:{\"items\":[10, 20, 30, 50, 100],\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.changePerPage()}},model:{value:(_vm.options.itemsPerPage),callback:function ($$v) {_vm.$set(_vm.options, \"itemsPerPage\", $$v)},expression:\"options.itemsPerPage\"}})],1)]),_c('v-col',{staticClass:\"text-center\",attrs:{\"cols\":\"12\",\"sm\":\"8\"}},[_c('v-pagination',{attrs:{\"length\":_vm.options.pageCount,\"total-visible\":5},on:{\"input\":_vm.changePage},model:{value:(_vm.options.page),callback:function ($$v) {_vm.$set(_vm.options, \"page\", $$v)},expression:\"options.page\"}})],1)],1)],1)],1)],1)],1)],1)],1):_c('div',[_c('notify-card',{attrs:{\"title\":_vm.notify_title,\"load\":_vm.notify_load,\"process\":\"el proceso de admisión\"}})],1)],1),_c('v-dialog',{attrs:{\"width\":\"300\"},model:{value:(_vm.confirmDialog),callback:function ($$v) {_vm.confirmDialog=$$v},expression:\"confirmDialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline grey lighten-3\",attrs:{\"primary-title\":\"\"}},[_c('span',{staticClass:\"headline\"},[_vm._v(\"Alerta\")])]),_c('v-card-text',{staticClass:\"text-center\"},[_c('p',[_vm._v(\"¿Está seguro(a) de generar los \"),_c('b',[_vm._v(\"números de butaca\")]),_vm._v(\"?\")])]),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"type\":\"submit\",\"color\":\"success\",\"loading\":_vm.load_generate,\"text\":\"\"},on:{\"click\":_vm.generateButaca}},[_vm._v(\"Aceptar\")]),_c('v-btn',{attrs:{\"color\":\"red\",\"text\":\"\"},on:{\"click\":function($event){_vm.confirmDialog = false}}},[_vm._v(\"Cancelar\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-container grid-list-xl fluid>\n      <header-title title=\"Generar y listar butaca\"></header-title>\n      <div v-if=\"convocatoria.id > 0\">\n        <v-row>\n          <v-col cols=\"12\">\n            <v-card>\n              <v-card-text>\n                <p class=\"subtitle-1 font-weight-bold\">\n                  {{ convocatoria.cite }}\n                </p>\n                <p>\n                  Lista de postulantes, sedes y butaca por EFM/UA modalidad\n                  <b>A</b>.\n                </p>\n              </v-card-text>\n            </v-card>\n          </v-col>\n        </v-row>\n        <v-row class=\"mb-1\">\n          <v-col cols=\"12\">\n            <v-card>\n              <v-card-text>\n                <v-form ref=\"formp\" @submit.prevent=\"searchPostulantes()\">\n                  <v-row class=\"mt-1\">\n                    <v-col cols=\"12\" sm=\"3\">\n                      <v-select\n                        label=\"ESFM/UA\"\n                        v-model=\"options.institucion_id\"\n                        :items=\"instituciones\"\n                        item-text=\"nombre\"\n                        item-value=\"id\"\n                        :rules=\"[(v) => !!v || 'Seleccione una opción']\"\n                        @change=\"changeInstitucion()\"\n                        hide-details\n                        filled\n                      ></v-select>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"3\">\n                      <v-text-field\n                        v-model=\"options.search\"\n                        label=\"CI, nombre, apellidos\"\n                        @input=\"changeSearch\"\n                        hint=\"1234567 o 1234567-1G\"\n                        hide-details\n                        clearable\n                        filled\n                      ></v-text-field>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"6\">\n                      <v-btn type=\"submit\" large color=\"primary\">\n                        <v-icon>mdi-magnify</v-icon>\n                        Buscar\n                      </v-btn>\n                      <v-btn\n                        class=\"ml-1\"\n                        type=\"button\"\n                        large\n                        color=\"error\"\n                        :loading=\"load_report\"\n                        :disabled=\"postulantes.length == 0\"\n                        @click=\"reportButaca\"\n                      >\n                        <v-icon>mdi-file-download</v-icon>\n                        PDF\n                      </v-btn>\n                      <!-- <v-btn\n                        class=\"ml-1\"\n                        type=\"button\"\n                        large\n                        color=\"success\"\n                        @click=\"confirmDialog = true\"\n                      >\n                        Butaca\n                      </v-btn> -->\n                    </v-col>\n                  </v-row>\n                </v-form>\n                <v-data-table\n                  :loading=\"loading\"\n                  :headers=\"headers\"\n                  :items=\"postulantes\"\n                  :page.sync=\"options.page\"\n                  :items-per-page=\"options.itemsPerPage\"\n                  hide-default-footer\n                  class=\"elevation-1\"\n                >\n                  <template v-slot:[`item.num`]=\"{ item }\">\n                    <td>\n                      {{\n                        (options.page - 1) * options.itemsPerPage +\n                        (postulantes.indexOf(item) + 1)\n                      }}\n                    </td>\n                  </template>\n                  <template v-slot:[`item.nombre`]=\"{ item }\">\n                    <td>\n                      {{ item.a_postulante.a_persona.paterno }} {{ item.a_postulante.a_persona.materno }}\n                      {{ item.a_postulante.a_persona.nombres }}\n                    </td>\n                  </template>\n                  <template v-slot:[`item.a_persona.fecha_nacimiento`]=\"{ item }\">\n                    <td>\n                      {{\n                        item.a_persona.fecha_nacimiento | formatdate\n                      }}\n                    </td>\n                  </template>\n                </v-data-table>\n                <div class=\"v-data-footer\">\n                  <v-row>\n                    <v-col cols=\"12\" sm=\"4\">\n                      <div class=\"v-data-footer__select\">\n                        Filas por página:\n                        <v-select\n                          :items=\"[10, 20, 30, 50, 100]\"\n                          v-model=\"options.itemsPerPage\"\n                          @change=\"changePerPage()\"\n                          hide-details\n                          class=\"my-0\"\n                        ></v-select>\n                      </div>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"8\" class=\"text-center\">\n                      <v-pagination\n                        v-model=\"options.page\"\n                        :length=\"options.pageCount\"\n                        :total-visible=\"5\"\n                        @input=\"changePage\"\n                      ></v-pagination>\n                    </v-col>\n                  </v-row>\n                </div>\n              </v-card-text>\n            </v-card>\n          </v-col>\n        </v-row>\n      </div>\n      <div v-else>\n        <notify-card\n          :title=\"notify_title\"\n          :load=\"notify_load\"\n          process=\"el proceso de admisión\"\n        ></notify-card>\n      </div>\n    </v-container>\n    <v-dialog v-model=\"confirmDialog\" width=\"300\">\n      <v-card>\n        <v-card-title class=\"headline grey lighten-3\" primary-title>\n          <span class=\"headline\">Alerta</span>\n        </v-card-title>\n        <v-card-text class=\"text-center\">\n          <p>¿Está seguro(a) de generar los <b>números de butaca</b>?</p>\n        </v-card-text>\n        <v-divider></v-divider>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn\n            type=\"submit\"\n            color=\"success\"\n            :loading=\"load_generate\"\n            @click=\"generateButaca\"\n            text\n            >Aceptar</v-btn\n          >\n          <v-btn color=\"red\" text @click=\"confirmDialog = false\"\n            >Cancelar</v-btn\n          >\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport HeaderTitle from \"@/components/HeaderTitle\";\nimport NotifyCard from \"@/components/NotifyCard\";\nimport Service from \"../utils/general\";\nimport PDFService from \"../utils/pdf\";\nimport pdfMake from \"pdfmake/build/pdfmake\";\nimport pdfFonts from \"pdfmake/build/vfs_fonts\";\npdfMake.vfs = pdfFonts.pdfMake.vfs;\nimport { mapActions } from \"vuex\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"admision-lista-butaca\",\n  components: {\n    HeaderTitle,\n    NotifyCard,\n  },\n  data: () => ({\n    notify_title: \"Cargando\",\n    notify_load: true,\n    loading: false,\n    load_report: false,\n    load_generate: false,\n    convocatoria: {\n      id: null,\n      cite: \"\",\n      descripcion: \"\",\n      gestion: \"\",\n    },\n    headers: [\n      {\n        text: \"#\",\n        align: \"start\",\n        sortable: false,\n        value: \"num\",\n      },\n      {\n        text: \"Apellidos y nombres\",\n        value: \"a_postulante.a_persona.nombre_completo\",\n      },\n      { text: \"Cédula identidad\", value: \"a_postulante.a_persona.cedula_dni\" },\n      { text: \"Fecha nacimiento\", value: \"a_postulante.a_persona.fecha_nacimiento\" },\n      { text: \"Especialidad\", value: \"especialidad.descripcion\" },\n      { text: \"Butaca\", value: \"butaca\" },\n      { text: \"Recinto\", value: \"sede.nombre\" },\n    ],\n    options: {\n      search: \"\",\n      convocatoria_id: \"\",\n      institucion_id: \"\",\n      page: 1,\n      pageCount: 0,\n      itemsPerPage: 10,\n    },\n    instituciones: [],\n    postulantes: [],\n    confirmDialog: false,\n    user: null,\n  }),\n  created() {\n    this.user = Service.getUser();\n    if (this.user == null) {\n      this.$router.replace({ name: \"root\" });\n    }\n  },\n  mounted() {\n    if (this.user &&  (this.user.rid === 1||this.user.rid === 13)) {\n      this.getParametricas();\n    } else {\n      this.$router.replace({ name: \"root\" });\n    }\n  },\n  methods: {\n    ...mapActions([\"toast\"]),\n    /* getInstitutionParam() {\n      this.notify_load = true;\n      Service.svcInsitutionParam()\n        .then((response) => {\n          if (response.status === 200) {\n            this.convocatoria = response.data.convocatorias[0];\n            this.instituciones = response.data.instituciones;\n          }\n          this.notify_title = \"Notificación\";\n          this.notify_load = false;\n        })\n        .catch(() => {\n          this.notify_load = false;\n          console.error(\"Parametros no encontrado\");\n        });\n    }, */\n    getParametricas() {\n      this.notify_load = true;\n      axios\n        .get(\n          Service.getUrlAPI() + \"admision/convocatoria/institucion\",\n          Service.getHeader()\n        )\n        .then((response) => {\n          this.convocatoria = response.data.convocatorias\n            ? response.data.convocatorias[0]\n            : { id: null, cite: \"\", descripcion: \"\", gestion: \"\" };\n          this.instituciones = response.data.instituciones;\n          this.options.convocatoria_id = this.convocatoria.id;\n          this.notify_title = \"Notificación\";\n          this.notify_load = false;\n        })\n        .catch(() => {\n          this.notify_load = false;\n          console.error(\"Parametros no encontrado\");\n        });\n    },\n\n    getPostulantes() {\n      this.loading = true;\n      axios\n        .post(\n          Service.getUrlAPI() + \"admision/listar/butaca\",\n          this.options,\n          Service.getHeader()\n        )\n        .then((response) => {\n          this.loading = false;\n          this.postulantes = response.data.rows;\n          if (response.data.count > 0) {\n            this.options.pageCount =\n              Math.floor(response.data.count / this.options.itemsPerPage) + 1;\n          }\n        })\n        .catch((error) => {\n          this.loading = false;\n          console.error(\"Error al cargar registros\", error);\n        });\n    },\n\n    searchPostulantes() {\n      if (this.$refs.formp.validate()) {\n        this.getPostulantes();\n      } else {\n        this.toast({ color: \"info\", text: \"Seleccione ESFM/UA\" });\n      }\n    },\n\n    changeSearch() {\n      if (this.options.search && this.options.search.length > 2) {\n        this.getPostulantes();\n      }\n    },\n\n    changePerPage() {\n      this.options.page = 1;\n      this.getPostulantes();\n    },\n\n    changePage() {\n      this.getPostulantes();\n    },\n\n    changeInstitucion() {\n      this.postulantes = [];\n      this.options.page = 1;\n      this.options.pageCount = 0;\n      this.options.itemsPerPage = 10;\n      this.getPostulantes();\n    },\n\n    generateButaca() {\n      this.load_generate = true;\n      axios\n        .post(\n          Service.getUrlAPI() + \"admision/generar/butaca\",\n          this.options,\n          Service.getHeader()\n        )\n        .then((response) => {\n          this.load_generate = false;\n          if (response.status === 200) {\n            this.confirmDialog = false;\n            this.toast({ color: \"success\", text: response.data.message });\n          } else {\n            this.toast({ color: \"error\", text: response.data.message });\n          }\n        })\n        .catch((error) => {\n          this.load_generate = false;\n          console.error(\"Error al cargar registros\", error);\n        });\n    },\n\n    reportButaca() {\n      this.load_report = true;\n      axios\n        .post(\n          Service.getUrlAPI() + \"admision/reporte/butaca\",\n          this.options,\n          Service.getHeader()\n        )\n        .then((response) => {\n          let bodyPdf = [];\n          if (response.status == 200) {\n            const rcount = response.data.registro.length - 1;\n            response.data.registro.forEach((item, index) => {\n              let pbreak = index < rcount ? \"after\" : null;\n              bodyPdf.push(\n                PDFService.bodyButacaPDF(this.convocatoria, item, pbreak)\n              );\n            });\n            var docDefinition = {\n              watermark: {\n                text: \"Prueba Escrita\",\n                opacity: 0.06,\n                angle: 315,\n              },\n              pageSize: \"A5\",\n              pageMargins: [40, 70, 40, 30],\n              content: bodyPdf,\n            };\n            pdfMake.createPdf(docDefinition).download(\"PostulantesButaca.pdf\");\n          } else {\n            this.toast({ color: \"info\", text: \"No hay registro\" });\n          }\n          this.load_report = false;\n        })\n        .catch((err) => {\n          this.load_report = false;\n          console.error(err);\n        });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdmisionGenerarButaca.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdmisionGenerarButaca.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdmisionGenerarButaca.vue?vue&type=template&id=63641da8&\"\nimport script from \"./AdmisionGenerarButaca.vue?vue&type=script&lang=js&\"\nexport * from \"./AdmisionGenerarButaca.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-card',{staticClass:\"text-center\"},[_c('v-card-title',[_vm._v(_vm._s(_vm.title))]),(_vm.load)?_c('v-card-text',[_c('v-progress-circular',{attrs:{\"size\":70,\"width\":7,\"color\":\"blue\",\"indeterminate\":\"\"}})],1):_c('v-card-text',[_c('h3',{staticClass:\"mt-2\"},[_vm._v(\"No hay convocatoria habilitada para \"+_vm._s(_vm.process)+\".\")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card class=\"text-center\">\n    <v-card-title>{{ title }}</v-card-title>\n    <v-card-text v-if=\"load\">\n      <v-progress-circular\n        :size=\"70\"\n        :width=\"7\"\n        color=\"blue\"\n        indeterminate\n      ></v-progress-circular>\n    </v-card-text>\n    <v-card-text v-else>\n      <h3 class=\"mt-2\">No hay convocatoria habilitada para {{ process }}.</h3>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nexport default {\n  props: [\"title\", \"process\", \"load\"],\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotifyCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotifyCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NotifyCard.vue?vue&type=template&id=49680eed&\"\nimport script from \"./NotifyCard.vue?vue&type=script&lang=js&\"\nexport * from \"./NotifyCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}