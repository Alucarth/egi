(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-434564c4"],{7036:function(t,a,e){"use strict";var o=e("b0af"),s=e("99d9"),i=e("490a"),n=function(){var t=this,a=t._self._c;return a(o["a"],{staticClass:"text-center"},[a(s["d"],[t._v(t._s(t.title))]),t.load?a(s["c"],[a(i["a"],{attrs:{size:70,width:7,color:"blue",indeterminate:""}})],1):a(s["c"],[a("h3",{staticClass:"mt-2"},[t._v("No hay convocatoria habilitada para "+t._s(t.process)+".")])])],1)},r=[],l={props:["title","process","load"]},c=l,d=e("2877"),u=Object(d["a"])(c,n,r,!1,null,null,null);a["a"]=u.exports},"870b":function(t,a,e){"use strict";e.r(a);var o=e("8336"),s=e("b0af"),i=e("99d9"),n=e("62ad"),r=e("a523"),l=e("8fea"),c=e("169a"),d=e("ce7e"),u=e("4bd4"),p=e("132d"),h=e("891e"),_=e("0fd9"),m=e("b974"),f=e("2fa4"),g=e("8654"),v=function(){var t=this,a=t._self._c;return a("div",[a(r["a"],{attrs:{"grid-list-xl":"",fluid:""}},[a("header-title",{attrs:{title:"Verificar depósito"}}),t.convocatoria.id>0?a("div",[a(_["a"],[a(n["a"],{attrs:{cols:"12"}},[a(s["a"],[a(i["c"],[a("p",{staticClass:"subtitle-1 font-weight-bold"},[t._v(" "+t._s(t.convocatoria.cite)+" ")]),a("p",[t._v(" El/la responsable de caja debe verificar el comprobante de "),a("b",[t._v("Depósito Bancario")]),t._v(" realizado por el/la postulante y dar su VoBo en modalidad "),a("b",[t._v("A")]),t._v(". ")])])],1)],1)],1),a(_["a"],{staticClass:"mb-1"},[a(n["a"],{attrs:{cols:"12"}},[a(s["a"],[a(i["c"],[a(u["a"],{ref:"formp",on:{submit:function(a){return a.preventDefault(),t.getPostulantes()}}},[a(_["a"],{staticClass:"mt-1"},[a(n["a"],{attrs:{cols:"12",sm:"4"}},[a(g["a"],{attrs:{label:"CI o DNI, nombre, apellidos",rules:[t=>!!t||""],hint:"1234567 o 1234567-1G","hide-details":"",clearable:"",filled:""},on:{input:t.changeSearch},model:{value:t.options.search,callback:function(a){t.$set(t.options,"search",a)},expression:"options.search"}})],1),a(n["a"],{attrs:{cols:"12",sm:"8"}},[a(o["a"],{attrs:{type:"submit",large:"",color:"primary",loading:t.load_search}},[a(p["a"],[t._v("mdi-magnify")]),t._v(" Buscar ")],1)],1)],1)],1),a(l["a"],{staticClass:"elevation-1",attrs:{loading:t.loading,headers:t.headers,items:t.postulantes,page:t.options.page,"items-per-page":t.options.itemsPerPage,"hide-default-footer":""},on:{"update:page":function(a){return t.$set(t.options,"page",a)}},scopedSlots:t._u([{key:"item.num",fn:function({item:e}){return[a("td",[t._v(" "+t._s((t.options.page-1)*t.options.itemsPerPage+(t.postulantes.indexOf(e)+1))+" ")])]}},{key:"item.nombre",fn:function({item:e}){return[a("td",[t._v(" "+t._s(e.a_persona.paterno)+" "+t._s(e.a_persona.materno)+" "+t._s(e.a_persona.nombres)+" ")])]}},{key:"item.fecha_nacimiento",fn:function({item:e}){return[a("td",[t._v(" "+t._s(t._f("formatdate")(e.a_persona.fecha_nacimiento))+" ")])]}},{key:"item.accion",fn:function({item:e}){return[a("td",[a(o["a"],{attrs:{small:"",color:"success"},on:{click:function(a){return t.confirmPostulante(e.id,e.a_persona.paterno,e.a_persona.materno,e.a_persona.nombres,e.deposito.id)}}},[t._v(" Verificar ")])],1)]}},{key:"item.numero_deposito",fn:function({item:e}){return[a("td",{staticClass:"subtitle-1 font-weight-bold"},[t._v(" "+t._s(e.deposito.numero)+" ")])]}},{key:"item.fecha_deposito",fn:function({item:e}){return[a("td",{staticClass:"subtitle-1 font-weight-bold"},[t._v(" "+t._s(t._f("formatdate")(e.deposito.fecha))+" ")])]}}],null,!0)}),a("div",{staticClass:"v-data-footer"},[a(_["a"],[a(n["a"],{attrs:{cols:"12",sm:"4"}},[a("div",{staticClass:"v-data-footer__select"},[t._v(" Filas por página: "),a(m["a"],{staticClass:"my-0",attrs:{items:[10,20,30,50,100],"hide-details":""},on:{change:function(a){return t.changePerPage()}},model:{value:t.options.itemsPerPage,callback:function(a){t.$set(t.options,"itemsPerPage",a)},expression:"options.itemsPerPage"}})],1)]),a(n["a"],{staticClass:"text-center",attrs:{cols:"12",sm:"8"}},[a(h["a"],{attrs:{length:t.options.pageCount,"total-visible":5},on:{input:t.changePage},model:{value:t.options.page,callback:function(a){t.$set(t.options,"page",a)},expression:"options.page"}})],1)],1)],1),2===t.type_state?a("div",[a("span",{staticClass:"red--text"},[t._v(" No hay registro con la "),a("b",[t._v("Cédula Identidad o DNA")]),t._v(" ingresada. ")])]):t._e()],1)],1)],1)],1)],1):a("div",[a("notify-card",{attrs:{title:t.notify_title,load:t.notify_load,process:"el proceso de admisión"}})],1)],1),a(c["a"],{attrs:{width:"300"},model:{value:t.confirmDialog,callback:function(a){t.confirmDialog=a},expression:"confirmDialog"}},[a(s["a"],[a(i["d"],{staticClass:"headline grey lighten-3",attrs:{"primary-title":""}},[a("span",{staticClass:"headline"},[t._v("Alerta")])]),a(i["c"],{staticClass:"text-center"},[a("p",[t._v(" ¿Está seguro(a) de habilitar al postulante "),a("b",{staticClass:"blue--text"},[t._v(t._s(t.postulante))]),t._v("? ")]),a("p",[t._v("Dando su VoBo de que el "),a("b",[t._v("depósito bancario")]),t._v(" es correcto.")])]),a(d["a"]),a(i["a"],[a(f["a"]),a(o["a"],{attrs:{color:"success",loading:t.load_send,text:""},on:{click:function(a){return t.checkPostulante()}}},[t._v("Aceptar")]),a(o["a"],{attrs:{color:"red",text:""},on:{click:function(a){t.confirmDialog=!1}}},[t._v("Cancelar")])],1)],1)],1)],1)},b=[],P=e("78d5"),y=e("7036"),C=e("154f"),x=e("e499"),k=e.n(x),w=e("4ebb"),D=e.n(w),A=e("2f62"),$=e("bc3a"),N=e.n($);k.a.vfs=D.a.pdfMake.vfs;var I={name:"admision-verificar-caja",components:{HeaderTitle:P["a"],NotifyCard:y["a"]},data:()=>({notify_title:"Cargando",notify_load:!0,loading:!1,load_search:!1,load_send:!1,type_state:1,cedula_dni:"",convocatoria:{id:null},headers:[{text:"#",align:"start",sortable:!1,value:"num"},{text:"Apellidos y nombres",value:"a_persona.nombre_completo"},{text:"Cédula identidad",value:"a_persona.cedula_dni"},{text:"Complemento",value:"a_persona.complemento"},{text:"Fecha nacimiento",value:"a_persona.fecha_nacimiento"},{text:"Celular",value:"a_persona.celular"},{text:"Especialidad",value:"especialidad.descripcion"},{text:"Nro. depósito",value:"deposito.numero"},{text:"Fecha depósito",value:"deposito.fecha"},{text:"Acciones",value:"accion"}],options:{search:"",convocatoria_id:"",institucion_id:"",estado:1,sigla:"A",page:1,pageCount:0,itemsPerPage:10},postulantes:[],postulante:"",postulante_id:"",deposito_id:"",confirmDialog:!1,user:null}),created(){this.user=C["a"].getUser(),null==this.user&&this.$router.replace({name:"root"})},mounted(){const t=[9,10,11];this.user&&t.includes(this.user.rid)?(this.options.institucion_id=this.user.ies,this.getModalidades()):this.$router.replace({name:"root"})},methods:{...Object(A["b"])(["toast"]),getModalidades(){this.notify_load=!0,N.a.get(C["a"].getUrlAPI()+"admision/modalidad",C["a"].getHeader()).then(t=>{this.convocatoria=t.data.convocatoria?t.data.convocatoria:{id:null,cite:""},this.options.convocatoria_id=this.convocatoria.id,this.notify_title="Notificación",this.notify_load=!1,this.getPostulantes()}).catch(()=>{this.notify_load=!1,console.error("Parametros no encontrado")})},getPostulantes(){this.loading=!0,N.a.post(C["a"].getUrlAPI()+"admision/postulantes",this.options,C["a"].getHeader()).then(t=>{this.loading=!1,this.postulantes=t.data.rows,t.data.count>0&&(this.options.pageCount=Math.floor(t.data.count/this.options.itemsPerPage)+1)}).catch(t=>{this.loading=!1,console.error("Error al cargar registros",t)})},changeSearch(){this.options.search&&this.options.search.length>2&&this.getPostulantes()},changePerPage(){this.options.page=1,this.getPostulantes()},changePage(){this.getPostulantes()},confirmPostulante(t,a,e,o,s){this.postulante=`${a} ${e} ${o}`,this.postulante_id=t,this.deposito_id=s,this.confirmDialog=!0},checkPostulante(){this.load_send=!0,N.a.put(C["a"].getUrlAPI()+"admision/confirmar/postulante/"+this.postulante_id,{deposito_id:this.deposito_id},C["a"].getHeader()).then(t=>{this.load_send=!1,this.toast({color:"success",text:t.data}),this.confirmDialog=!1,this.getPostulantes()}).catch(t=>{this.load_send=!1,this.toast({color:"error",text:t.data})})}}},j=I,B=e("2877"),E=Object(B["a"])(j,v,b,!1,null,null,null);a["default"]=E.exports}}]);
//# sourceMappingURL=chunk-434564c4.ada8d4fc.js.map