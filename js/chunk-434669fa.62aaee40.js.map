{"version":3,"sources":["webpack:///./src/components/NotifyCard.vue","webpack:///src/components/NotifyCard.vue","webpack:///./src/components/NotifyCard.vue?9bfa","webpack:///./src/components/NotifyCard.vue?f7fe","webpack:///./src/views/AdmisionHabilitadosEscrita.vue","webpack:///src/views/AdmisionHabilitadosEscrita.vue","webpack:///./src/views/AdmisionHabilitadosEscrita.vue?d502","webpack:///./src/views/AdmisionHabilitadosEscrita.vue?dc1c"],"names":["attrs","staticClass","_vm","render","staticRenderFns","props","component","_c","ref","on","searchPostulantes","instituciones","model","value","options","callback","expression","scopedSlots","key","fn","item","$set","pdfMake","name","components","HeaderTitle","NotifyCard","data","notify_title","notify_load","loading","load_search","load_report","convocatoria","id","cite","gestion","headers","text","align","sortable","search","convocatoria_id","institucion_id","page","pageCount","itemsPerPage","modalidades","postulantes","user","created","mounted","methods","getParametricas","axios","get","Service","then","response","catch","console","getPostulantes","post","Math","color","changeSearch","changePerPage","changePage","changeInstitucion","reportEscrita","stack","marginTop","fontSize","alignment","bold","columns","width","style","layout","table","headerRows","widths","body","fillColor","nombre","tableContent","index","bodyPdf","pageSize","pageMargins","header","footer","content","createPdf","download"],"mappings":"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,WACA,oBACAC,6CAIAC,iBACA,gBACAP,IACAQ,KACAN,uDACA,aACAA,oBAEAC,SACA,gBACA,6BACA,iBACA,uBACAM,wDAGAJ,UACA,gBACAC,gDAIAlD,oBACA,4BACA,sBAEA,YAAAsD,aAAA1B,6BAIA2B,eACA,mDACA,uBAIAC,gBACA,oBACA,uBAGAC,aACA,uBAGAC,oBACA,oBACA,oBACA,yBACA,6BACA,uBAGAC,gBACA,oBACAf,IACAQ,KACAN,yDACA,aACAA,oBAEAC,SACA,iCACA,0BACArC,sCAEA,OACA,CACAkD,OACA,CACAC,cACAC,WACAlC,2CACAmC,mBAEA,CACAD,YACAE,QACAV,gBACA1B,4BACAmC,mBACAF,cAEA,CACAC,YACAE,QACAV,gBACA1B,6CACAmC,oBAEA,CACAD,YACAE,QACAV,gBACA1B,gDACAmC,oBAEA,CACAF,YACAC,WACAG,SACA,CACAC,YACAF,QACApC,sBACAuC,gBAEA,CACAD,YACAtC,sCAEA,CACAsC,WACAF,QACApC,kBAEA,CACAsC,YACAtC,yBAOA,GACAiC,YACAC,WACAM,8BACAC,OACAC,aACAC,gCACAC,MACA,CACA,CACA5C,SACAoC,QACAS,qBAEA,CACA7C,2BACAoC,QACAS,qBAEA,CACA7C,wBACAoC,QACAS,qBAEA,CACA7C,oBACAoC,QACAS,yBAMA,KACAzB,4BACA0B,mDACAhE,8CACA,sBACAiE,mBACAC,IACAF,EACAhE,uBACAA,+BAGAmE,UACA,OACAC,kBACAC,0BACAC,+BACAC,+BACAC,WAEAtE,IACAuE,aACAC,uCAEA,sBAEAnC,UACA,oBACAC,sBC/ZoW,I,YCOhWtD,EAAY,eACd,EACA,EACAF,GACA,EACA,KACA,KACA,MAIa,aAAAE,E","file":"js/chunk-434669fa.62aaee40.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-card',{staticClass:\"text-center\"},[_c('v-card-title',[_vm._v(_vm._s(_vm.title))]),(_vm.load)?_c('v-card-text',[_c('v-progress-circular',{attrs:{\"size\":70,\"width\":7,\"color\":\"blue\",\"indeterminate\":\"\"}})],1):_c('v-card-text',[_c('h3',{staticClass:\"mt-2\"},[_vm._v(\"No hay convocatoria habilitada para \"+_vm._s(_vm.process)+\".\")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card class=\"text-center\">\n    <v-card-title>{{ title }}</v-card-title>\n    <v-card-text v-if=\"load\">\n      <v-progress-circular\n        :size=\"70\"\n        :width=\"7\"\n        color=\"blue\"\n        indeterminate\n      ></v-progress-circular>\n    </v-card-text>\n    <v-card-text v-else>\n      <h3 class=\"mt-2\">No hay convocatoria habilitada para {{ process }}.</h3>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nexport default {\n  props: [\"title\", \"process\", \"load\"],\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotifyCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotifyCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NotifyCard.vue?vue&type=template&id=49680eed&\"\nimport script from \"./NotifyCard.vue?vue&type=script&lang=js&\"\nexport * from \"./NotifyCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-container',{attrs:{\"grid-list-xl\":\"\",\"fluid\":\"\"}},[_c('header-title',{attrs:{\"title\":\"Habilitados escrita\"}}),(_vm.convocatoria.id > 0)?_c('div',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-text',[_c('p',{staticClass:\"subtitle-1 font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm.convocatoria.cite)+\" \")]),_c('p',[_vm._v(\" Lista de postulantes habilitados para la \"),_c('b',[_vm._v(\"prueba de aptitud\")]),_vm._v(\" de la modalidad \"),_c('b',[_vm._v(\"A\")]),_vm._v(\". \")])])],1)],1)],1),_c('v-row',{staticClass:\"mb-1\"},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-text',[_c('v-form',{ref:\"formp\",on:{\"submit\":function($event){$event.preventDefault();return _vm.searchPostulantes()}}},[_c('v-row',{staticClass:\"mt-1\"},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"ESFM/UA\",\"items\":_vm.instituciones,\"item-text\":\"nombre\",\"item-value\":\"id\",\"rules\":[(v) => !!v || 'Seleccione una opci√≥n'],\"hide-details\":\"\",\"filled\":\"\"},on:{\"change\":function($event){return _vm.changeInstitucion()}},model:{value:(_vm.options.institucion_id),callback:function ($$v) {_vm.$set(_vm.options, \"institucion_id\", $$v)},expression:\"options.institucion_id\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"CI, nombre, apellidos\",\"hint\":\"1234567 o 1234567-1G\",\"hide-details\":\"\",\"clearable\":\"\",\"filled\":\"\"},on:{\"input\":_vm.changeSearch},model:{value:(_vm.options.search),callback:function ($$v) {_vm.$set(_vm.options, \"search\", $$v)},expression:\"options.search\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('v-btn',{attrs:{\"type\":\"submit\",\"large\":\"\",\"color\":\"primary\",\"loading\":_vm.load_search}},[_c('v-icon',[_vm._v(\"mdi-magnify\")]),_vm._v(\" Buscar \")],1),_c('v-btn',{staticClass:\"ml-1\",attrs:{\"type\":\"button\",\"large\":\"\",\"color\":\"error\",\"loading\":_vm.load_report,\"disabled\":_vm.postulantes.length == 0},on:{\"click\":_vm.reportEscrita}},[_c('v-icon',[_vm._v(\"mdi-file-download\")]),_vm._v(\" PDF \")],1)],1)],1)],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"loading\":_vm.loading,\"headers\":_vm.headers,\"items\":_vm.postulantes,\"page\":_vm.options.page,\"items-per-page\":_vm.options.itemsPerPage,\"hide-default-footer\":\"\"},on:{\"update:page\":function($event){return _vm.$set(_vm.options, \"page\", $event)}},scopedSlots:_vm._u([{key:`item.num`,fn:function({ item }){return [_c('td',[_vm._v(\" \"+_vm._s((_vm.options.page - 1) * _vm.options.itemsPerPage + (_vm.postulantes.indexOf(item) + 1))+\" \")])]}},{key:`item.a_persona.fecha_nacimiento`,fn:function({ item }){return [_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"formatdate\")(item.a_persona.fecha_nacimiento))+\" \")])]}}],null,true)}),_c('div',{staticClass:\"v-data-footer\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}},[_c('div',{staticClass:\"v-data-footer__select\"},[_vm._v(\" Filas por p√°gina: \"),_c('v-select',{staticClass:\"my-0\",attrs:{\"items\":[10, 20, 30, 50, 100],\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.changePerPage()}},model:{value:(_vm.options.itemsPerPage),callback:function ($$v) {_vm.$set(_vm.options, \"itemsPerPage\", $$v)},expression:\"options.itemsPerPage\"}})],1)]),_c('v-col',{staticClass:\"text-center\",attrs:{\"cols\":\"12\",\"sm\":\"8\"}},[_c('v-pagination',{attrs:{\"length\":_vm.options.pageCount,\"total-visible\":5},on:{\"input\":_vm.changePage},model:{value:(_vm.options.page),callback:function ($$v) {_vm.$set(_vm.options, \"page\", $$v)},expression:\"options.page\"}})],1)],1)],1)],1)],1)],1)],1)],1):_c('div',[_c('notify-card',{attrs:{\"title\":_vm.notify_title,\"load\":_vm.notify_load,\"process\":\"el proceso de admisi√≥n\"}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-container grid-list-xl fluid>\n      <header-title title=\"Habilitados escrita\"></header-title>\n      <div v-if=\"convocatoria.id > 0\">\n        <v-row>\n          <v-col cols=\"12\">\n            <v-card>\n              <v-card-text>\n                <p class=\"subtitle-1 font-weight-bold\">\n                  {{ convocatoria.cite }}\n                </p>\n                <p>\n                  Lista de postulantes habilitados para la\n                  <b>prueba de aptitud</b> de la modalidad <b>A</b>.\n                </p>\n              </v-card-text>\n            </v-card>\n          </v-col>\n        </v-row>\n        <v-row class=\"mb-1\">\n          <v-col cols=\"12\">\n            <v-card>\n              <!-- <v-card-title>Formulario de Postulaci√≥n y Aptitud</v-card-title> -->\n              <v-card-text>\n                <v-form ref=\"formp\" @submit.prevent=\"searchPostulantes()\">\n                  <v-row class=\"mt-1\">\n                    <v-col cols=\"12\" sm=\"3\">\n                      <v-select\n                        label=\"ESFM/UA\"\n                        v-model=\"options.institucion_id\"\n                        :items=\"instituciones\"\n                        item-text=\"nombre\"\n                        item-value=\"id\"\n                        :rules=\"[(v) => !!v || 'Seleccione una opci√≥n']\"\n                        @change=\"changeInstitucion()\"\n                        hide-details\n                        filled\n                      ></v-select>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"3\">\n                      <v-text-field\n                        v-model=\"options.search\"\n                        label=\"CI, nombre, apellidos\"\n                        @input=\"changeSearch\"\n                        hint=\"1234567 o 1234567-1G\"\n                        hide-details\n                        clearable\n                        filled\n                      ></v-text-field>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"3\">\n                      <v-btn\n                        type=\"submit\"\n                        large\n                        color=\"primary\"\n                        :loading=\"load_search\"\n                      >\n                        <v-icon>mdi-magnify</v-icon>\n                        Buscar\n                      </v-btn>\n                      <v-btn\n                        class=\"ml-1\"\n                        type=\"button\"\n                        large\n                        color=\"error\"\n                        :loading=\"load_report\"\n                        :disabled=\"postulantes.length == 0\"\n                        @click=\"reportEscrita\"\n                      >\n                        <v-icon>mdi-file-download</v-icon>\n                        PDF\n                      </v-btn>\n                    </v-col>\n                  </v-row>\n                </v-form>\n                <v-data-table\n                  :loading=\"loading\"\n                  :headers=\"headers\"\n                  :items=\"postulantes\"\n                  :page.sync=\"options.page\"\n                  :items-per-page=\"options.itemsPerPage\"\n                  hide-default-footer\n                  class=\"elevation-1\"\n                >\n                  <template v-slot:[`item.num`]=\"{ item }\">\n                    <td>\n                      {{\n                        (options.page - 1) * options.itemsPerPage +\n                        (postulantes.indexOf(item) + 1)\n                      }}\n                    </td>\n                  </template>\n                  <template v-slot:[`item.a_persona.fecha_nacimiento`]=\"{ item }\">\n                    <td>\n                      {{ item.a_persona.fecha_nacimiento | formatdate }}\n                    </td>\n                  </template>\n                </v-data-table>\n                <div class=\"v-data-footer\">\n                  <v-row>\n                    <v-col cols=\"12\" sm=\"4\">\n                      <div class=\"v-data-footer__select\">\n                        Filas por p√°gina:\n                        <v-select\n                          :items=\"[10, 20, 30, 50, 100]\"\n                          v-model=\"options.itemsPerPage\"\n                          @change=\"changePerPage()\"\n                          hide-details\n                          class=\"my-0\"\n                        ></v-select>\n                      </div>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"8\" class=\"text-center\">\n                      <v-pagination\n                        v-model=\"options.page\"\n                        :length=\"options.pageCount\"\n                        :total-visible=\"5\"\n                        @input=\"changePage\"\n                      ></v-pagination>\n                    </v-col>\n                  </v-row>\n                </div>\n              </v-card-text>\n            </v-card>\n          </v-col>\n        </v-row>\n      </div>\n      <div v-else>\n        <notify-card\n          :title=\"notify_title\"\n          :load=\"notify_load\"\n          process=\"el proceso de admisi√≥n\"\n        ></notify-card>\n      </div>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport HeaderTitle from \"@/components/HeaderTitle\";\nimport NotifyCard from \"@/components/NotifyCard\";\nimport Service from \"../utils/general\";\nimport PDFService from \"../utils/pdf\";\nimport pdfMake from \"pdfmake/build/pdfmake\";\nimport pdfFonts from \"pdfmake/build/vfs_fonts\";\npdfMake.vfs = pdfFonts.pdfMake.vfs;\nimport { mapActions } from \"vuex\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"admision-verificar-caja\",\n  components: {\n    HeaderTitle,\n    NotifyCard,\n  },\n  data: () => ({\n    notify_title: \"Cargando\",\n    notify_load: true,\n    loading: false,\n    load_search: false,\n    load_report: false,\n    convocatoria: {\n      id: null,\n      cite: \"\",\n      gestion: \"\",\n    },\n    headers: [\n      {\n        text: \"#\",\n        align: \"start\",\n        sortable: false,\n        value: \"num\",\n      },\n      { text: \"Apellidos y nombres\", value: \"a_persona.nombre_completo\" },\n      { text: \"C√©dula identidad\", value: \"a_persona.cedula_dni\" },\n      { text: \"Fecha nacimiento\", value: \"a_persona.fecha_nacimiento\" },\n      { text: \"Tel√©fono/Celular\", value: \"a_persona.celular\" },\n      { text: \"Especialidad\", value: \"especialidad.descripcion\" },\n    ],\n    options: {\n      search: \"\",\n      convocatoria_id: \"\",\n      institucion_id: \"\",\n      page: 1,\n      pageCount: 0,\n      itemsPerPage: 10,\n    },\n    modalidades: [],\n    postulantes: [],\n    user: null,\n  }),\n  created() {\n    this.user = Service.getUser();\n    if (this.user == null) {\n      this.$router.replace({ name: \"root\" });\n    }\n  },\n  mounted() {\n    if (this.user && (this.user.rid === 1||this.user.rid === 13)) {\n      this.getParametricas();\n    } else {\n      this.$router.replace({ name: \"root\" });\n    }\n  },\n  methods: {\n    ...mapActions([\"toast\"]),\n    getParametricas() {\n      this.notify_load = true;\n      axios\n        .get(\n          Service.getUrlAPI() + \"admision/convocatoria/institucion\",\n          Service.getHeader()\n        )\n        .then((response) => {\n          this.convocatoria = response.data.convocatorias\n            ? response.data.convocatorias[0]\n            : { id: null, cite: \"\", gestion: \"\" };\n          this.instituciones = response.data.instituciones;\n          this.options.convocatoria_id = this.convocatoria.id;\n          this.notify_title = \"Notificaci√≥n\";\n          this.notify_load = false;\n        })\n        .catch(() => {\n          this.notify_load = false;\n          console.error(\"Parametros no encontrado\");\n        });\n    },\n\n    getPostulantes() {\n      this.loading = true;\n      axios\n        .post(\n          Service.getUrlAPI() + \"admision/lista/habilitado/escrita\", // \"admision/habilitados/escrita\",\n          this.options,\n          Service.getHeader()\n        )\n        .then((response) => {    \n          this.loading = false;\n          this.postulantes = response.data.rows;\n          if (response.data.count > 0) {\n            this.options.pageCount =\n              Math.floor(response.data.count / this.options.itemsPerPage) + 1;\n          }\n        })\n        .catch((error) => {\n          this.loading = false;\n          console.error(\"Error al cargar registros\", error);\n        });\n    },\n\n    searchPostulantes() {\n      if (this.$refs.formp.validate()) {\n        this.getPostulantes();\n      } else {\n        this.toast({ color: \"info\", text: \"Seleccione ESFM/UA\" });\n      }\n    },\n\n    changeSearch() {\n      if (this.options.search && this.options.search.length > 2) {\n        this.getPostulantes();\n      }\n    },\n\n    changePerPage() {\n      this.options.page = 1;\n      this.getPostulantes();\n    },\n\n    changePage() {\n      this.getPostulantes();\n    },\n\n    changeInstitucion() {\n      this.postulantes = [];\n      this.options.page = 1;\n      this.options.pageCount = 0;\n      this.options.itemsPerPage = 10;\n      this.getPostulantes();\n    },\n\n    reportEscrita() {\n      this.load_report = true;\n      axios\n        .post(\n          Service.getUrlAPI() +\"admision/reporte/habilitado/escrita\",// \"admision/reporte/habilitados/escrita\",\n          this.options,\n          Service.getHeader()\n        )\n        .then((response) => {\n          const currentDate = new Date().toISOString();\n          const institucion = this.instituciones.find(\n            (item) => item.id == this.options.institucion_id\n          );\n          let bodyPdf = [\n            {\n              stack: [\n                {\n                  marginTop: -20,\n                  fontSize: 6,\n                  text: `Fecha actual\\n${PDFService.formatDate(currentDate)}`,\n                  alignment: \"right\",\n                },\n                {\n                  fontSize: 14,\n                  bold: true,\n                  color: \"#212121\",\n                  text: this.convocatoria.cite,\n                  alignment: \"center\",\n                  marginTop: 10,\n                },\n                {\n                  fontSize: 12,\n                  bold: true,\n                  color: \"#424242\",\n                  text: \"HABILITADOS PARA LA PRUEBA DE APTITUD\",\n                  alignment: \"center\",\n                },\n                {\n                  fontSize: 12,\n                  bold: true,\n                  color: \"#424242\",\n                  text: `MODALIDAD A - ${this.convocatoria.gestion}`,\n                  alignment: \"center\",\n                },\n                {\n                  marginTop: 8,\n                  fontSize: 9,\n                  columns: [\n                    {\n                      width: \"12%\",\n                      bold: true,\n                      text: \"Departamento: \",\n                      style: \"header\",\n                    },\n                    {\n                      width: \"15%\",\n                      text: institucion ? institucion.departamento.descripcion : \"\",\n                    },\n                    {\n                      width: \"9%\",\n                      bold: true,\n                      text: \"ESFM/UA: \",\n                    },\n                    {\n                      width: \"64%\",\n                      text: institucion ? institucion.nombre : \"\",\n                    },\n                  ],\n                },\n              ],\n            },\n          ];\n          let tableContent = {\n            marginTop: 5,\n            fontSize: 8,\n            layout: \"lightHorizontalLines\",\n            table: {\n              headerRows: 1,\n              widths: [\"5%\", \"40%\", \"13%\", \"42%\"],\n              body: [\n                [\n                  {\n                    text: \"#\",\n                    bold: true,\n                    fillColor: \"#dddddd\",\n                  },\n                  {\n                    text: \"Apellidos y Nombres\",\n                    bold: true,\n                    fillColor: \"#dddddd\",\n                  },\n                  {\n                    text: \"C√©dula Identidad\",\n                    bold: true,\n                    fillColor: \"#dddddd\",\n                  },\n                  {\n                    text: \"Especialidad\",\n                    bold: true,\n                    fillColor: \"#dddddd\",\n                  },\n                ],\n              ],\n            },\n          };\n          let nombre = \"\";\n          response.data.rows.forEach((item, index) => {\n            nombre = `${item.a_persona.paterno ? item.a_persona.paterno : \"\"} ${\n              item.a_persona.materno ? item.a_persona.materno : \"\"\n            } ${item.a_persona.nombres}`;\n            tableContent.table.body.push([\n              index + 1,\n              nombre,\n              item.a_persona.cedula_dni,\n              item.especialidad.descripcion,\n            ]);\n          });\n          bodyPdf.push(tableContent);\n          var docDefinition = {\n            pageSize: \"LETTER\",\n            pageMargins: [40, 70, 40, 30],\n            header: PDFService.setting().header,\n            footer: PDFService.setting().footer,\n            content: bodyPdf,\n          };\n          pdfMake\n            .createPdf(docDefinition)\n            .download(\"HabilitadosEscritaModA.pdf\");\n          // pdfMake.createPdf(docDefinition).open();\n          this.load_report = false;\n        })\n        .catch((err) => {\n          this.load_report = false;\n          console.error(err);\n        });\n    },\n  },\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdmisionHabilitadosEscrita.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdmisionHabilitadosEscrita.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdmisionHabilitadosEscrita.vue?vue&type=template&id=e2858fb0&\"\nimport script from \"./AdmisionHabilitadosEscrita.vue?vue&type=script&lang=js&\"\nexport * from \"./AdmisionHabilitadosEscrita.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}