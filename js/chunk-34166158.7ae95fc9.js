(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34166158"],{"23a7":function(t,e,a){"use strict";a("13d5"),a("14d9"),a("5803");var i=a("2677"),o=a("cc20"),s=a("80d2"),n=a("d9bd"),l=a("d9f7");e["a"]=i["a"].extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:t=>"boolean"===typeof t||[1e3,1024].includes(t)},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:t=>Object(s["H"])(t).every(t=>null!=t&&"object"===typeof t)}},computed:{classes(){return{...i["a"].options.computed.classes.call(this),"v-file-input":!0}},computedCounterValue(){const t=this.multiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,t);const e=this.internalArrayValue.reduce((t,{size:e=0})=>t+e,0);return this.$vuetify.lang.t(this.counterSizeString,t,Object(s["w"])(e,1024===this.base))},internalArrayValue(){return Object(s["H"])(this.internalValue)},internalValue:{get(){return this.lazyValue},set(t){this.lazyValue=t,this.$emit("change",this.lazyValue)}},isDirty(){return this.internalArrayValue.length>0},isLabelActive(){return this.isDirty},text(){return this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?this.internalArrayValue.map(t=>{const{name:e="",size:a=0}=t,i=this.truncateText(e);return this.showSize?`${i} (${Object(s["w"])(a,1024===this.base)})`:i}):[this.placeholder]},base(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips(){return this.chips||this.smallChips}},watch:{readonly:{handler(t){!0===t&&Object(n["b"])("readonly is not supported on <v-file-input>",this)},immediate:!0},value(t){const e=this.multiple?t:t?[t]:[];Object(s["k"])(e,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback(){this.internalValue=this.multiple?[]:null,this.$refs.input.value=""},genChips(){return this.isDirty?this.text.map((t,e)=>this.$createElement(o["a"],{props:{small:this.smallChips},on:{"click:close":()=>{const t=this.internalValue;t.splice(e,1),this.internalValue=t}}},[t])):[]},genControl(){const t=i["a"].options.methods.genControl.call(this);return this.hideInput&&(t.data.style=Object(l["d"])(t.data.style,{display:"none"})),t},genInput(){const t=i["a"].options.methods.genInput.call(this);return t.data.attrs.multiple=this.multiple,delete t.data.domProps.value,delete t.data.on.input,t.data.on.change=this.onInput,[this.genSelections(),t]},genPrependSlot(){if(!this.prependIcon)return null;const t=this.genIcon("prepend",()=>{this.$refs.input.click()});return this.genSlot("prepend","outer",[t])},genSelectionText(){const t=this.text.length;return t<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,t)]},genSelections(){const t=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((e,a)=>{this.$scopedSlots.selection&&t.push(this.$scopedSlots.selection({text:this.text[a],file:e,index:a}))}):t.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},t)},genTextFieldSlot(){const t=i["a"].options.methods.genTextFieldSlot.call(this);return t.data.on={...t.data.on||{},click:t=>{t.target&&"LABEL"===t.target.nodeName||this.$refs.input.click()}},t},onInput(t){const e=[...t.target.files||[]];this.internalValue=this.multiple?e:e[0],this.initialValue=this.internalValue},onKeyDown(t){this.$emit("keydown",t)},truncateText(t){if(t.length<Number(this.truncateLength))return t;const e=Math.floor((Number(this.truncateLength)-1)/2);return`${t.slice(0,e)}…${t.slice(t.length-e)}`}}})},2677:function(t,e,a){"use strict";var i=a("8654");e["a"]=i["a"]},5803:function(t,e,a){},"64d5":function(t,e,a){"use strict";a.r(e);var i=a("8336"),o=a("b0af"),s=a("99d9"),n=a("62ad"),l=a("a523"),c=a("2e4b"),r=a("169a"),d=a("ce7e"),u=a("23a7"),p=a("4bd4"),m=a("132d"),h=a("adda"),g=a("e449"),_=a("0fd9"),f=a("b974"),v=a("2fa4"),b=a("8654"),y=function(){var t=this,e=t._self._c;return e("div",[e(l["a"],{attrs:{"grid-list-xl":"",fluid:""}},[e("header-title",{attrs:{title:"Formulario de modificación"}}),t.convocatoria.id>0?e("div",[e(_["a"],[e(n["a"],{attrs:{cols:"12"}},[e(o["a"],[e(s["c"],[e("p",{staticClass:"subtitle-1 font-weight-bold"},[t._v(" "+t._s(t.convocatoria.cite)+" ")]),e("p",[t._v(" El/la postulante podrá modificar alguno de los datos del "),e("b",[t._v("Formulario de postulación")]),t._v(" previamente debe estar inscrito, en una de las siguientes modalidades "),e("b",[t._v("A, B1, B2, B3, B4 y B5")]),t._v(". ")]),e("p",[t._v(" Si no está inscrito diríjase a la opción de "),e("b",[t._v("Inscripción")]),t._v(" del menú "),e("b",[t._v("Admisión")]),t._v(". ")]),e("p",{staticClass:"mb-0"},[t._v(" En la caja de texto de abajo ingrese su "),e("b",[t._v("cédula de identidad")]),t._v(" tal como puso al momento de inscribirse. Debería ser "),e("span",{staticClass:"red--text"},[t._v("sin expedido")]),t._v(", vease el siguiente ejemplo: "),e("ul",[e("li",[t._v("1234567")])])]),e("p",{staticClass:"mb-0"},[t._v(" Por seguridad de los datos registrados: En la caja de texto "),e("b",[t._v("código")]),t._v(" ingrese el codigo que le aparece en el formulario de postulación, vease el siguiente ejemplo: "),e("ul",[e("li",[t._v("avtycdd")])])])])],1)],1)],1),e(_["a"],{staticClass:"mb-1"},[e(n["a"],{attrs:{cols:"12"}},[e(o["a"],[e(s["c"],[e(p["a"],{ref:"formp",on:{submit:function(e){return e.preventDefault(),t.searchPostulante()}}},[e(_["a"],{staticClass:"mt-1"},[e(n["a"],{attrs:{cols:"12",sm:"3"}},[e(b["a"],{attrs:{type:"text",label:"Cédula de identidad",rules:[t=>!!t||"El campo es requerido",t=>/^E-\d+$/.test(t)||/^\d+$/.test(t)||"Formato incorrecto. Debe ser E- seguido de números o solo números",t=>!!t&&t.length>3||"Mínimo 4 caracteres"],hint:"Ejemplo: 1234567 o para extrangeros E-1234567",clearable:"",filled:""},model:{value:t.postulante.cedula_dni,callback:function(e){t.$set(t.postulante,"cedula_dni","string"===typeof e?e.trim():e)},expression:"postulante.cedula_dni"}})],1),e(n["a"],{attrs:{cols:"12",sm:"1"}},[e(b["a"],{attrs:{maxlength:"2",label:"Complemento",rules:[],hint:"1G",clearable:"",filled:""},model:{value:t.postulante.complemento,callback:function(e){t.$set(t.postulante,"complemento","string"===typeof e?e.trim():e)},expression:"postulante.complemento"}})],1),e(n["a"],{attrs:{cols:"12",sm:"3"}},[e(g["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:i}){return[e(b["a"],t._g(t._b({attrs:{label:"Fecha de nacimiento","append-icon":"mdi-calendar",rules:[t=>!!t||"El campo es requerido"],filled:"",readonly:""},model:{value:t.birthDateFormatted,callback:function(e){t.birthDateFormatted=e},expression:"birthDateFormatted"}},"v-text-field",i,!1),a))]}}],null,!1,2043167872),model:{value:t.menu_date,callback:function(e){t.menu_date=e},expression:"menu_date"}},[e(c["a"],{attrs:{locale:"es"},on:{input:function(e){t.menu_date=!1}},model:{value:t.postulante.fecha_nacimiento,callback:function(e){t.$set(t.postulante,"fecha_nacimiento",e)},expression:"postulante.fecha_nacimiento"}})],1)],1),e(n["a"],{attrs:{cols:"12",sm:"3"}},[e(b["a"],{attrs:{type:"text",label:"Código",rules:[t=>!!t||"El campo es requerido",t=>!!t&&t.length>3||"Mínimo 4 caracteres"],hint:"Ejemplo: artssd, el código se encuentra en el form de postulación.",clearable:"",filled:""},model:{value:t.postulante.codigo,callback:function(e){t.$set(t.postulante,"codigo","string"===typeof e?e.trim():e)},expression:"postulante.codigo"}})],1),e(n["a"],{attrs:{cols:"12",sm:"1"}},[e(i["a"],{attrs:{type:"submit",large:"",color:"primary",loading:t.load_search}},[e(m["a"],[t._v("mdi-magnify")]),t._v(" Buscar ")],1)],1),e(n["a"],{attrs:{cols:"12",sm:"4"}},[2==t.type_state?[e("div",{staticClass:"container"},[e("div",{staticClass:"user-image"},[e("div",{staticClass:"avatar"},[e(h["a"],{attrs:{"lazy-src":a("b6f4"),src:t.imageData,contain:"","max-height":"150","min-height":"100"},model:{value:t.fFotografia,callback:function(e){t.fFotografia=e},expression:"fFotografia"}})],1),e("div",{staticClass:"icon-wrapper",staticStyle:{cursor:"pointer !important"}},[e("i",{staticStyle:{color:"#00a8ff",cursor:"pointer !important"}},[e(u["a"],{ref:"file",attrs:{label:"Solo Archivos de Imagen estan permitidos *.jpg, *.jpeg, *.png, *.gif",accept:"image/jpg, image/jpeg, image/png, image/gif",rules:t.reglasImage,filled:"","prepend-icon":"mdi-camera",chips:"","show-size":"","small-chips":""},on:{change:function(e){return t.verFoto()}},model:{value:t.fFotografia,callback:function(e){t.fFotografia=e},expression:"fFotografia"}})],1)]),e("div",{ref:"message",staticClass:"alert alert-danger",attrs:{hidden:""}},[e("p",[t._v("Solo Archivos de Imagen estan permitidos *.jpg, *.jpeg, *.png, *.gif")])])])])]:t._e()],2)],1)],1),2==t.type_state?e("div",[e("div",{staticClass:"mb-5"},[e("b",{staticClass:"blue--text"},[t._v("USTED POSTULÓ EN LA ")]),t._v(" "),e("b",[t._v("MODALIDAD "+t._s(t.postulante.sigla_modalidad))])]),e("h4",{staticClass:"grey--text"},[t._v("DATOS PERSONALES")]),e(_["a"],[e(n["a"],{attrs:{cols:"12",md:"4"}},[e(b["a"],{attrs:{label:"Apellido paterno",rules:[""!=t.postulante.materno||(t=>!!t||"El campo es requerido")],filled:""},on:{keypress:function(e){return t.isText(e)}},model:{value:t.postulante.paterno,callback:function(e){t.$set(t.postulante,"paterno","string"===typeof e?e.trim():e)},expression:"postulante.paterno"}})],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[e(b["a"],{attrs:{label:"Apellido materno",rules:[""!=t.postulante.paterno||(t=>!!t||"El campo es requerido")],filled:""},on:{keypress:function(e){return t.isText(e)}},model:{value:t.postulante.materno,callback:function(e){t.$set(t.postulante,"materno","string"===typeof e?e.trim():e)},expression:"postulante.materno"}})],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[e(b["a"],{attrs:{label:"Nombres",rules:[t=>!!t||"El campo es requerido"],filled:""},on:{keypress:function(e){return t.isText(e)}},model:{value:t.postulante.nombres,callback:function(e){t.$set(t.postulante,"nombres","string"===typeof e?e.trim():e)},expression:"postulante.nombres"}})],1),e(n["a"],{attrs:{cols:"12",sm:"4"}},[e(f["a"],{attrs:{label:"Genero",items:t.generos,"item-text":"descripcion","item-value":"id",rules:[t=>!!t||"Seleccione una opción"],filled:""},model:{value:t.postulante.genero_id,callback:function(e){t.$set(t.postulante,"genero_id",e)},expression:"postulante.genero_id"}})],1),e(n["a"],{attrs:{cols:"12",sm:"4"}},[e(f["a"],{attrs:{label:"Departamento de nacimiento",items:t.departamentos,"item-text":"descripcion","item-value":"id",rules:[t=>!!t||"Seleccione una opción"],filled:""},model:{value:t.postulante.departamento_id,callback:function(e){t.$set(t.postulante,"departamento_id",e)},expression:"postulante.departamento_id"}})],1),e(n["a"],{attrs:{cols:"12",sm:"4"}},[e(b["a"],{attrs:{type:"number",label:"Teléfono/Celular",filled:""},model:{value:t.postulante.celular,callback:function(e){t.$set(t.postulante,"celular","string"===typeof e?e.trim():e)},expression:"postulante.celular"}})],1),e(n["a"],{attrs:{cols:"12",sm:"4"}},[e(b["a"],{attrs:{label:"Correo electrónico",rules:[t=>/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t)||"Correo electrónico no valido"],filled:""},model:{value:t.postulante.correo_electronico,callback:function(e){t.$set(t.postulante,"correo_electronico","string"===typeof e?e.trim():e)},expression:"postulante.correo_electronico"}})],1)],1),e("h4",{staticClass:"grey--text mt-5"},[t._v("DATOS DE DIRECCIÓN")]),e(_["a"],[e(n["a"],{attrs:{cols:"12",sm:"4"}},[e(f["a"],{attrs:{label:"Departamento",items:t.departamentos,"item-text":"descripcion","item-value":"id",rules:[t=>!!t||"Seleccione una opción"],filled:""},on:{change:function(e){t.getProvincias(),t.getLenguas()}},model:{value:t.postulante.direccion_departamento_id,callback:function(e){t.$set(t.postulante,"direccion_departamento_id",e)},expression:"postulante.direccion_departamento_id"}})],1),e(n["a"],{attrs:{cols:"12",sm:"4"}},[e(f["a"],{attrs:{label:"Provincia",items:t.provincias,"item-text":"descripcion","item-value":"id",rules:[t=>!!t||"Seleccione una opción"],filled:""},on:{change:function(e){return t.getMunicipios()}},model:{value:t.postulante.provincia_id,callback:function(e){t.$set(t.postulante,"provincia_id",e)},expression:"postulante.provincia_id"}})],1),e(n["a"],{attrs:{cols:"12",sm:"4"}},[e(f["a"],{attrs:{label:"Municipio",items:t.municipios,"item-text":"descripcion","item-value":"id",rules:[t=>!!t||"Seleccione una opción"],filled:""},model:{value:t.postulante.municipio_id,callback:function(e){t.$set(t.postulante,"municipio_id",e)},expression:"postulante.municipio_id"}})],1),e(n["a"],{attrs:{cols:"12",sm:"4"}},[e(b["a"],{attrs:{label:"Zona",rules:[t=>!!t||"El campo es requerido"],autocomplete:"off",filled:""},model:{value:t.postulante.direccion_zona,callback:function(e){t.$set(t.postulante,"direccion_zona","string"===typeof e?e.trim():e)},expression:"postulante.direccion_zona"}})],1),e(n["a"],{attrs:{cols:"12",sm:"4"}},[e(b["a"],{attrs:{label:"Calle",rules:[t=>!!t||"El campo es requerido"],autocomplete:"off",filled:""},model:{value:t.postulante.direccion_calle,callback:function(e){t.$set(t.postulante,"direccion_calle","string"===typeof e?e.trim():e)},expression:"postulante.direccion_calle"}})],1),e(n["a"],{attrs:{cols:"12",sm:"4"}},[e(b["a"],{attrs:{label:"Número",rules:[t=>!!t||"El campo es requerido"],autocomplete:"off",filled:""},model:{value:t.postulante.direccion_nro,callback:function(e){t.$set(t.postulante,"direccion_nro","string"===typeof e?e.trim():e)},expression:"postulante.direccion_nro"}})],1)],1),e("h4",{staticClass:"grey--text mt-5"},[t._v("DATOS DE EGRESO")]),e(_["a"],[e(n["a"],{attrs:{cols:"12",sm:"4"}},[e(b["a"],{attrs:{label:"Unidad educativa - egreso",rules:[t=>!!t||"El campo es requerido"],filled:""},model:{value:t.postulante.unidad_educativa,callback:function(e){t.$set(t.postulante,"unidad_educativa",e)},expression:"postulante.unidad_educativa"}})],1),e(n["a"],{attrs:{cols:"12",sm:"4"}},[e(b["a"],{attrs:{type:"number",label:"Gestión de egreso",rules:[t=>!!t||"El campo es requerido"],filled:""},model:{value:t.postulante.gestion,callback:function(e){t.$set(t.postulante,"gestion",e)},expression:"postulante.gestion"}})],1)],1),e("h4",{staticClass:"grey--text mt-5"},[t._v("DATOS DE LENGUA ORIGINARIA")]),e(_["a"],[e(n["a"],{attrs:{cols:"12",sm:"6"}},[e(f["a"],{attrs:{label:"Lengua originaria",items:t.lenguas,"item-text":"descripcion","item-value":"id",rules:[t=>!!t||"Seleccione una opción"],filled:""},model:{value:t.postulante.lengua_id,callback:function(e){t.$set(t.postulante,"lengua_id",e)},expression:"postulante.lengua_id"}})],1),e(n["a"],{attrs:{cols:"12",sm:"6"}},[e(f["a"],{attrs:{label:"Nación o pueblo indigena al que pertenece",items:t.nacion_pueblos,"item-text":"descripcion","item-value":"id",rules:[t=>!!t||"Seleccione una opción"],filled:""},model:{value:t.postulante.nacion_pueblo_id,callback:function(e){t.$set(t.postulante,"nacion_pueblo_id",e)},expression:"postulante.nacion_pueblo_id"}})],1)],1),e("h4",{staticClass:"grey--text mt-5"},[t._v("DATOS DE POSTULACIÓN")]),e(_["a"],[e(n["a"],{attrs:{cols:"12",sm:"6"}},[e(f["a"],{attrs:{label:"ESFM/UA",items:t.instituciones,"item-text":"descripcion","item-value":"id",rules:[t=>!!t||"Seleccione una opción"],filled:""},on:{change:function(e){return t.getSpecialties(0)}},model:{value:t.postulante.institucion_id,callback:function(e){t.$set(t.postulante,"institucion_id",e)},expression:"postulante.institucion_id"}})],1),e(n["a"],{attrs:{cols:"12",sm:"6"}},[e(f["a"],{attrs:{label:"Especialidad",items:t.especialidades,"item-text":"descripcion","item-value":"id",rules:[t=>!!t||"Seleccione una opción"],filled:""},model:{value:t.postulante.especialidad_id,callback:function(e){t.$set(t.postulante,"especialidad_id",e)},expression:"postulante.especialidad_id"}})],1)],1),"B3"===t.postulante.sigla_modalidad?e(_["a"],{staticClass:"mt-1"},[e(n["a"],{attrs:{cols:"12",sm:"4"}},[e(f["a"],{attrs:{label:"Tipo de discapacidad",items:t.discapacidades,"item-text":"descripcion","item-value":"id",rules:[t=>!!t||"Seleccione una opción"],filled:""},on:{change:function(e){return t.getGradoDiscapacidad()}},model:{value:t.postulante.discapacidad_id,callback:function(e){t.$set(t.postulante,"discapacidad_id",e)},expression:"postulante.discapacidad_id"}})],1),e(n["a"],{attrs:{cols:"12",sm:"4"}},[e(f["a"],{attrs:{label:"Grado de discapacidad",items:t.grados_discapacidad,"item-text":"grado_discapacidad.descripcion","item-value":"grado_discapacidad_id",rules:[e=>!!e||t.gradoVacio||"Seleccione una opción"],disabled:t.gradoVacio,filled:""},model:{value:t.postulante.grado_discapacidad_id,callback:function(e){t.$set(t.postulante,"grado_discapacidad_id",e)},expression:"postulante.grado_discapacidad_id"}})],1),e(n["a"],{attrs:{cols:"12",sm:"4"}},[e(b["a"],{attrs:{label:"Porcentaje(%)",type:"number",rules:[t=>!!t||"El campo es requerido"],filled:""},model:{value:t.postulante.grado,callback:function(e){t.$set(t.postulante,"grado","string"===typeof e?e.trim():e)},expression:"postulante.grado"}})],1),e(n["a"],{attrs:{cols:"12",sm:"4"}},[e(g["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:i}){return[e(b["a"],t._g(t._b({attrs:{label:"Fecha de carnet","append-icon":"mdi-calendar",rules:[t=>!!t||"El campo es requerido"],filled:"",readonly:""},model:{value:t.disabilityDateFormatted,callback:function(e){t.disabilityDateFormatted=e},expression:"disabilityDateFormatted"}},"v-text-field",i,!1),a))]}}],null,!1,3182144263),model:{value:t.disability_date,callback:function(e){t.disability_date=e},expression:"disability_date"}},[e(c["a"],{attrs:{locale:"es"},on:{input:function(e){t.disability_date=!1}},model:{value:t.postulante.fecha_emision,callback:function(e){t.$set(t.postulante,"fecha_emision","string"===typeof e?e.trim():e)},expression:"postulante.fecha_emision"}})],1)],1)],1):t._e(),e(_["a"],[e(n["a"],{staticClass:"text-center",attrs:{cols:"12"}},[e(i["a"],{attrs:{type:"button",large:"",color:"info"},on:{click:t.confirmPostulante}},[t._v(" Confirmar modificación ")])],1)],1)],1):3===t.type_state?e("div",[e("span",{staticClass:"red--text"},[t._v(" No hay registro con "),e("b",[t._v("Cédula Identidad o DNA y Fecha de Nacimiento")]),t._v(" ingresada. ")])]):4===t.type_state?e("div",[e("span",{staticClass:"red--text"},[e("b",[t._v("Su información ya no puede ser modificada, puesto que está en la siguiente fase.")])])]):t._e()],1)],1)],1)],1)],1):e("div",[e("notify-card",{attrs:{title:t.notify_title,load:t.notify_load,process:"el proceso de admisión"}})],1)],1),e(r["a"],{attrs:{persistent:"",width:"300"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[e(o["a"],[e(s["d"],{staticClass:"headline grey lighten-3",attrs:{"primary-title":""}},[e("span",{staticClass:"headline"},[t._v("Alerta")])]),e(s["c"],{staticClass:"text-center"},[e("p",[t._v("¿Esta seguro(a) de modificar su información?")]),e("p",[t._v(" Verifique sus datos antes de enviar, no existirá reclamos posteriores. ")])]),e(d["a"]),e(s["a"],[e(v["a"]),e(i["a"],{attrs:{color:"success",loading:t.send_loading},on:{click:t.savePostulante}},[t._v(" Aceptar ")]),e(i["a"],{attrs:{color:"error"},on:{click:function(e){t.confirmDialog=!1}}},[t._v("Cancelar")])],1)],1)],1)],1)},x=[],S=a("78d5"),C=a("7036"),$=a("154f"),D=a("2f62"),k=a("bc3a"),E=a.n(k),A={name:"formulario-modificacion",components:{HeaderTitle:S["a"],NotifyCard:C["a"]},data:()=>({notify_title:"Cargando",notify_load:!0,load_search:!1,send_loading:!1,disability_date:!1,menu_date:!1,type_state:1,convocatoria:{id:null},modalidad:{id:null},generos:[],departamentos:[],provincias:[],municipios:[],cantones:[],localidades:[],lenguas:[],nacion_pueblos:[],puestos:[],competencias:[],competencia_gestiones:[],discapacidades:[],grados_discapacidad:[],instituciones:[],especialidades:[],gradoVacio:!1,postulante:{id:"",persona_id:"",cedula_dni:"",complemento:"",paterno:"",materno:"",nombres:"",fecha_nacimiento:"",institucion:"",especialidad:"",convocatoria:"",modalidad:"",unidad_educativa:"",gestion:"",informacion_academica:"",departamento_id:"",direccion_departamento_id:"",provincia_id:"",municipio_id:"",localidad_id:"",institucion_id:"",especialidad_id:"",lengua_id:"",pueblo_nacion:"",nacion_pueblo_id:"",estado_id:"",modalidad_id:"",convocatoria_id:"",direccion_zona:"",direccion_calle:"",direccion_nro:"",ruta_imagen:"",descripcion:"",tipo:"",foto_act:"",foto:null,codigo:""},canton_id:"",confirmDialog:"",fFotografia:null,imageData:null,reglasImage:[t=>!!t||"El archivo es Requerido",t=>t&&t.size>0||"El archivo es Requerido"]}),computed:{birthDateFormatted(){if(!this.postulante.fecha_nacimiento)return null;const[t,e,a]=this.postulante.fecha_nacimiento.split("-");return`${a}/${e}/${t}`},disabilityDateFormatted(){if(!this.postulante.fecha_emision)return null;const[t,e,a]=this.postulante.fecha_emision.split("-");return`${a}/${e}/${t}`}},mounted(){this.getModalidades(),$["a"].removeModality()},methods:{...Object(D["b"])(["toast"]),getModalidades(){this.notify_load=!0,E.a.get($["a"].getUrlAPI()+"admision/modalidad",$["a"].getHeader()).then(t=>{this.convocatoria=t.data.convocatoria?t.data.convocatoria:{id:null,cite:""},this.notify_title="Notificación",this.notify_load=!1}).catch(()=>{this.notify_load=!1,console.error("Parametros no encontrado")})},getParameters(){E.a.post($["a"].getUrlAPI()+"admision/parametro/registro",{convocatoria_id:this.convocatoria.id,modalidad_id:this.modalidad.id},$["a"].getHeader()).then(t=>{this.departamentos=t.data.departamentos,this.generos=t.data.generos,this.nacion_pueblos=t.data.nacion_pueblos,"A"===this.postulante.sigla_modalidad&&(this.lenguas=t.data.lenguas,this.instituciones=t.data.instituciones),"B3"===this.postulante.sigla_modalidad&&(this.discapacidades=t.data.discapacidades,this.lenguas=t.data.lenguas),"B2"===this.postulante.sigla_modalidad&&(this.competencias=t.data.tipo_competencias,this.lenguas=t.data.lenguas)}).catch(()=>{console.error("Parametros no encontrado")})},getSpecialties(t){this.especialidades=[],0==t&&(this.postulante.especialidad_id=""),E.a.post($["a"].getUrlAPI()+"institucion/especialidades",{institucion_id:this.postulante.institucion_id},$["a"].getHeader()).then(t=>{this.especialidades=t.data}).catch(()=>{console.error("Especialidades no encontrado")})},getEscuelas(t=!0){this.instituciones=[],t&&(this.postulante.institucion_id=""),"B1"!==this.postulante.sigla_modalidad&&"B4"!==this.postulante.sigla_modalidad||E.a.post($["a"].getUrlAPI()+"admision/parametro/instituciones",{convocatoria_id:this.postulante.convocatoria_id,modalidad_id:this.postulante.modalidad_id,lengua_id:this.postulante.lengua_id,departamento_id:this.postulante.direccion_departamento_id},$["a"].getHeader()).then(t=>{this.instituciones=t.data.instituciones}).catch(()=>{console.error("Escuelas no encontradas")}),"B2"!==this.postulante.sigla_modalidad&&"B3"!==this.postulante.sigla_modalidad||E.a.post($["a"].getUrlAPI()+"admision/parametro/instituciones",{convocatoria_id:this.postulante.convocatoria_id,modalidad_id:this.postulante.modalidad_id,lengua_id:1,departamento_id:11},$["a"].getHeader()).then(t=>{this.instituciones=t.data.instituciones}).catch(()=>{console.error("Escuelas no encontradas")})},getLenguas(t=!0){"B1"!==this.postulante.sigla_modalidad&&"B4"!==this.postulante.sigla_modalidad||(this.lenguas=[],t&&(this.postulante.lengua_id=""),E.a.post($["a"].getUrlAPI()+"admision/parametro/lenguas",{convocatoria_id:this.postulante.convocatoria_id,modalidad_id:this.postulante.modalidad_id,departamento_id:this.postulante.direccion_departamento_id},$["a"].getHeader()).then(t=>{this.lenguas=t.data.lenguas}).catch(()=>{console.error("Escuelas no encontradas")}))},getGradoDiscapacidad(t=!0){this.grados_discapacidad=[],t&&(this.postulante.grado_discapacidad_id=""),E.a.post($["a"].getUrlAPI()+"discapacidad/grado_discapacidad",{discapacidad_id:this.postulante.discapacidad_id},$["a"].getHeader()).then(t=>{this.grados_discapacidad=t.data,1==this.grados_discapacidad.length&&""==this.grados_discapacidad[0].grado_discapacidad.descripcion?(this.postulante.grado_discapacidad_id=this.grados_discapacidad[0].grado_discapacidad_id,this.gradoVacio=!0):this.gradoVacio=!1}).catch(()=>{console.error("Grados de discapacidad no encontrado")})},cargaConvocatoria(){E.a.get($["a"].getUrlAPI()+"admision/obtener/convocatoria/"+this.convocatoria.id,$["a"].getHeader()).then(t=>{this.postulante.convocatoria=t.data.gestion.toString()}).catch(()=>{console.error("datos no encontrado")})},searchPostulante(){this.$refs.formp.validate()?(this.load_search=!0,this.type_state=1,E.a.post($["a"].getUrlAPI()+"admision/postulante/datos",{convocatoria_id:this.convocatoria.id,cedula_dni:this.postulante.cedula_dni,fecha_nacimiento:this.postulante.fecha_nacimiento,complemento:this.postulante.complemento?this.postulante.complemento:"",codigo:this.postulante.codigo},$["a"].getHeader()).then(t=>{this.load_search=!1,null==t.data.id?this.type_state=3:(this.type_state=2,t.data.estado_id>1?this.type_state=4:(this.postulante=t.data,this.postulante.informacion_academica=""!==this.postulante.informacion_academica?JSON.parse(this.postulante.informacion_academica):"",this.postulante.informacion_academica=JSON.stringify(this.postulante.informacion_academica),this.modalidad.id=t.data.modalidad_id,this.postulante.direccion_departamento_id=t.data.direccion_departamento_id,this.postulante.convocatoria_id=this.convocatoria.id,this.getSpecialties(1),this.getGradoDiscapacidad(!1),this.getEscuelas(!1),this.getParameters(),this.getLenguas(!1),E.a.get($["a"].getServe()+"provincias/activo/"+this.postulante.direccion_departamento_id,$["a"].getHeader()).then(t=>{this.provincias=t.data}).catch(()=>{console.error("Provincias no encontradas")}),E.a.get($["a"].getServe()+"municipios/activo/"+this.postulante.provincia_id,$["a"].getHeader()).then(t=>{this.municipios=t.data}).catch(()=>{console.error("Municipios no encontrados")}),this.cargaConvocatoria(),this.verFotoApi(this.postulante.ruta_imagen))),E.a.post($["a"].getUrlAPI()+"admision/validar/sie",{cedula_dni:this.postulante.cedula_dni,fecha_nacimiento:this.postulante.fecha_nacimiento,complemento:this.postulante.complemento},$["a"].getHeader()).then(t=>{this.search_loading=!1,200===t.status?(this.postulante.informacion_academica=t.data.detalle||"",this.postulante.informacion_academica=JSON.stringify(this.postulante.informacion_academica)):this.toast({color:"info",text:"No se encontro registro de notas"})}).catch(()=>{this.search_loading=!1,console.error("No se pudo realizar la varificacion de notas del postulante")})}).catch(t=>{console.log(t),this.load_search=!1,console.error("Postulante no encontrado")})):this.toast({color:"info",text:"Ingrese Cédula de identidad y Fecha de nacimiento"})},confirmPostulante(){1===this.postulante.estado_id?""!=this.postulante.institucion_id&&""!=this.postulante.especialidad_id&&""!=this.postulante.departamento_id&&""!=this.postulante.lengua_id?this.confirmDialog=!0:this.toast({color:"info",text:"Complete el formulario"}):this.toast({color:"success",text:"Su información ya no puede ser modificada, puesto que está en la siguiente fase"})},cargarDatosFotografia(){this.postulante.tipo="fotografia",this.postulante.descripcion="fotografia postulacion",this.postulante.ruta_imagen=Date.now()+".png",this.postulante.foto_act=this.fFotografia?"1":"0",this.postulante.foto=this.fFotografia},savePostulante(){this.send_loading=!0,this.postulante.convocatoria_id=this.convocatoria.id,this.cargarDatosFotografia();let t=new FormData;for(let e in this.postulante)t.append(e,this.postulante[e]);E.a.post($["a"].getUrlAPI()+"admision/postulante/modifica",t,{headers:{"Content-Type":"multipart/form-data",Authorization:$["a"].getTokenExt()}}).then(t=>{this.send_loading=!1,201==t.status?(this.type_state=1,this.$refs.formp&&this.$refs.formp.reset(),this.send_loading=!1,this.confirmDialog=!1,this.toast({color:"success",text:t.data,timeout:3e3})):this.toast({color:"warning",text:t.data})}).catch(t=>{this.send_loading=!1,this.toast({color:"info",text:t.response.data})})},isText:function(t){t=t||window.event;var e=t.which?t.which:t.keyCode;const a=[45,46,192,193,196,200,201,203,204,205,207,210,211,214,217,218,220,224,225,228,232,233,235,236,237,239,242,243,246,249,250,252];return!!(a.includes(e)||39==e||32==e||209==e||241==e||65<=e&&e<=90||97<=e&&e<=122)||(t.preventDefault(),!1)},verFoto(){if(this.fFotografia){var t=new FileReader;t.readAsDataURL(this.fFotografia),t.onload=()=>{this.imageData=t.result}}else this.imageData="No se eligio ningun archivo"},async verFotoApi(t){this.imageData=t?await this.getBase64ImageFromURL($["a"].getServe()+"admision/2023/"+t):"No se eligio ningun archivo"},getProvincias(){this.provincias=[],this.municipios=[],this.postulante.provincia_id="",E.a.get($["a"].getServe()+"provincias/activo/"+this.postulante.direccion_departamento_id,$["a"].getHeader()).then(t=>{console.log(t.data),this.provincias=t.data}).catch(()=>{console.error("Provincias no encontradas")})},getMunicipios(){this.municipios=[],this.postulante.municipio_id="",E.a.get($["a"].getServe()+"municipios/activo/"+this.postulante.provincia_id,$["a"].getHeader()).then(t=>{this.municipios=t.data}).catch(()=>{console.error("Municipios no encontrados")})},getBase64ImageFromURL(t){return new Promise((e,a)=>{var i=new Image;i.setAttribute("crossOrigin","anonymous"),i.onload=()=>{var t=document.createElement("canvas");t.width=i.width,t.height=i.height;var a=t.getContext("2d");a.drawImage(i,0,0);var o=t.toDataURL("image/png");e(o)},i.onerror=t=>{a(t)},i.src=t})}}},w=A,F=(a("97e3"),a("2877")),I=Object(F["a"])(w,y,x,!1,null,"7be37b70",null);e["default"]=I.exports},"66ba":function(t,e,a){},7036:function(t,e,a){"use strict";var i=a("b0af"),o=a("99d9"),s=a("490a"),n=function(){var t=this,e=t._self._c;return e(i["a"],{staticClass:"text-center"},[e(o["d"],[t._v(t._s(t.title))]),t.load?e(o["c"],[e(s["a"],{attrs:{size:70,width:7,color:"blue",indeterminate:""}})],1):e(o["c"],[e("h3",{staticClass:"mt-2"},[t._v("No hay convocatoria habilitada para "+t._s(t.process)+".")])])],1)},l=[],c={props:["title","process","load"]},r=c,d=a("2877"),u=Object(d["a"])(r,n,l,!1,null,null,null);e["a"]=u.exports},"97e3":function(t,e,a){"use strict";a("66ba")},afdd:function(t,e,a){"use strict";var i=a("8336");e["a"]=i["a"]},b6f4:function(t,e,a){t.exports=a.p+"img/avatar.d3e3a516.jpg"}}]);
//# sourceMappingURL=chunk-34166158.7ae95fc9.js.map