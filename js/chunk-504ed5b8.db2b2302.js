(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-504ed5b8"],{"3a2f":function(t,e,a){"use strict";a("9734");var i=a("4ad4"),s=a("a9ad"),o=a("16b7"),n=a("b848"),r=a("f573"),l=a("80d2"),d=a("d9bd"),c=a("58df");e["a"]=Object(c["a"])(s["a"],o["a"],n["a"],r["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},openOnFocus:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:()=>({calculatedMinWidth:0,closeDependents:!1}),computed:{calculatedLeft(){const{activator:t,content:e}=this.dimensions,a=!this.bottom&&!this.left&&!this.top&&!this.right,i=!1!==this.attach?t.offsetLeft:t.left;let s=0;return this.top||this.bottom||a?s=i+t.width/2-e.width/2:(this.left||this.right)&&(s=i+(this.right?t.width:-e.width)+(this.right?10:-10)),this.nudgeLeft&&(s-=parseInt(this.nudgeLeft)),this.nudgeRight&&(s+=parseInt(this.nudgeRight)),this.calcXOverflow(s,this.dimensions.content.width)+"px"},calculatedTop(){const{activator:t,content:e}=this.dimensions,a=!1!==this.attach?t.offsetTop:t.top;let i=0;return this.top||this.bottom?i=a+(this.bottom?t.height:-e.height)+(this.bottom?10:-10):(this.left||this.right)&&(i=a+t.height/2-e.height/2),this.nudgeTop&&(i-=parseInt(this.nudgeTop)),this.nudgeBottom&&(i+=parseInt(this.nudgeBottom)),!1===this.attach&&(i+=this.pageYOffset),this.calcYOverflow(i)+"px"},classes(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY(){return this.top||this.bottom},offsetX(){return this.left||this.right},styles(){return{left:this.calculatedLeft,maxWidth:Object(l["h"])(this.maxWidth),minWidth:Object(l["h"])(this.minWidth),top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount(){this.$nextTick(()=>{this.value&&this.callActivate()})},mounted(){"v-slot"===Object(l["t"])(this,"activator",!0)&&Object(d["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate(){this.runDelay("close")},genActivatorListeners(){const t=i["a"].options.methods.genActivatorListeners.call(this);return this.openOnFocus&&(t.focus=t=>{this.getActivator(t),this.runDelay("open")},t.blur=t=>{this.getActivator(t),this.runDelay("close")}),t.keydown=t=>{t.keyCode===l["y"].esc&&(this.getActivator(t),this.runDelay("close"))},t},genActivatorAttributes(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition(){const t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:{[this.contentClass]:!0,menuable__content__active:this.isActive,"v-tooltip__content--fixed":this.activatorFixed},style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render(t){return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent(()=>[this.genTransition()]),this.genActivator()])}})},"56e5":function(t,e,a){"use strict";a.r(e);var i=a("8336"),s=a("b0af"),o=a("99d9"),n=a("62ad"),r=a("a523"),l=a("8fea"),d=a("4bd4"),c=a("132d"),h=a("891e"),u=a("0fd9"),p=a("b974"),g=a("8654"),m=a("3a2f"),f=function(){var t=this,e=t._self._c;return e("div",[e(r["a"],{attrs:{"grid-list-xl":"",fluid:""}},[e("header-title",{attrs:{title:"Registro modalidad B"}}),t.convocatoria.id>0?e("div",[e(u["a"],[e(n["a"],{attrs:{cols:"12"}},[e(s["a"],[e(o["c"],[e("p",{staticClass:"subtitle-1 font-weight-bold"},[t._v(" "+t._s(t.convocatoria.cite)+" ")]),e("p",[t._v(" El/la responsable de la ESFM/UA debe verificar los "),e("b",[t._v("requisitos")]),t._v(" presentados por el/la postulante en las siguientes modalidades "),e("b",[t._v("B1, B2, B3, B4 y B5")]),t._v(". ")])])],1)],1)],1),e(u["a"],{staticClass:"mb-1"},[e(n["a"],{attrs:{cols:"12"}},[e(s["a"],[e(o["c"],[e(d["a"],{ref:"formp",on:{submit:function(e){return e.preventDefault(),t.getPostulantes()}}},[e(u["a"],{staticClass:"mt-1"},[e(n["a"],{attrs:{cols:"12",sm:"4"}},[e(p["a"],{attrs:{label:"Modalidades",items:t.modalidades,"item-text":"sigla","item-value":"sigla",rules:[t=>!!t||"Seleccione una opción"],"hide-details":"",filled:""},on:{change:function(e){return t.getPostulantes()}},model:{value:t.options.sigla,callback:function(e){t.$set(t.options,"sigla",e)},expression:"options.sigla"}})],1),e(n["a"],{attrs:{cols:"12",sm:"4"}},[e(g["a"],{attrs:{label:"CI o DNI, nombre, apellidos",rules:[t=>!!t||""],hint:"1234567 o 1234567-1G","hide-details":"",clearable:"",filled:""},on:{input:t.changeSearch},model:{value:t.options.search,callback:function(e){t.$set(t.options,"search",e)},expression:"options.search"}})],1),e(n["a"],{attrs:{cols:"12",sm:"4"}},[e(i["a"],{attrs:{type:"submit",large:"",color:"primary",loading:t.load_search}},[e(c["a"],[t._v("mdi-magnify")]),t._v(" Buscar ")],1)],1)],1)],1),e(l["a"],{staticClass:"elevation-1",attrs:{loading:t.loading,headers:t.headers,items:t.postulantes,page:t.options.page,"items-per-page":t.options.itemsPerPage,"hide-default-footer":""},on:{"update:page":function(e){return t.$set(t.options,"page",e)}},scopedSlots:t._u([{key:"item.num",fn:function({item:a}){return[e("td",[t._v(" "+t._s((t.options.page-1)*t.options.itemsPerPage+(t.postulantes.indexOf(a)+1))+" ")])]}},{key:"item.accion",fn:function({item:a}){return[e("td",[e(m["a"],{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:o}){return[10==a.estado_id||9==a.estado_id?e(i["a"],t._g(t._b({attrs:{small:"",dark:"",color:"red",loading:t.load_send},on:{click:function(e){return t.printFormCentralizador(a.id,a.modalidad.sigla)}}},"v-btn",o,!1),s),[e(c["a"],[t._v("mdi-printer-outline")])],1):t._e()]}}],null,!0)},[e("span",[t._v("Formulario")])])],1)]}}],null,!0)}),e("div",{staticClass:"v-data-footer"},[e(u["a"],[e(n["a"],{attrs:{cols:"12",sm:"4"}},[e("div",{staticClass:"v-data-footer__select"},[t._v(" Filas por página: "),e(p["a"],{staticClass:"my-0",attrs:{items:[10,20,30,50,100],"hide-details":""},on:{change:function(e){return t.changePerPage()}},model:{value:t.options.itemsPerPage,callback:function(e){t.$set(t.options,"itemsPerPage",e)},expression:"options.itemsPerPage"}})],1)]),e(n["a"],{staticClass:"text-center",attrs:{cols:"12",sm:"8"}},[e(h["a"],{attrs:{length:t.options.pageCount,"total-visible":5},on:{input:t.changePage},model:{value:t.options.page,callback:function(e){t.$set(t.options,"page",e)},expression:"options.page"}})],1)],1)],1),2===t.type_state?e("div",[e("span",{staticClass:"red--text"},[t._v(" No hay registro con la "),e("b",[t._v("Cédula Identidad o DNA")]),t._v(" ingresada. ")])]):t._e()],1)],1)],1)],1)],1):e("div",[e("notify-card",{attrs:{title:t.notify_title,load:t.notify_load,process:"el proceso de admisión"}})],1)],1)],1)},v=[],_=(a("14d9"),a("78d5")),b=a("7036"),y=a("154f"),C=a("9380"),P=a("e499"),x=a.n(P),w=a("4ebb"),A=a.n(w),k=a("2f62"),O=a("bc3a"),T=a.n(O);x.a.vfs=A.a.pdfMake.vfs;var B={name:"admision-lista-postulante-b",components:{HeaderTitle:_["a"],NotifyCard:b["a"]},data:()=>({notify_title:"Cargando",notify_load:!0,loading:!1,load_search:!1,load_send:!1,type_state:1,cedula_dni:"",convocatoria:{id:null,cite:""},headers:[{text:"#",align:"start",sortable:!1,value:"num"},{text:"Apellidos y nombres",value:"a_persona.nombre_completo"},{text:"Cédula identidad",value:"a_persona.cedula_dni"},{text:"Celular",value:"a_persona.celular"},{text:"Especialidad",value:"especialidad.descripcion"},{text:"Acciones",value:"accion"}],options:{search:"",convocatoria_id:"",institucion_id:"",sigla:"",page:1,pageCount:0,itemsPerPage:10},modalidades:[],postulantes:[],postulante:"",postulante_id:"",user:null}),created(){this.user=y["a"].getUser(),null==this.user&&this.$router.replace({name:"inicio"})},mounted(){const t=[8,11];this.user&&t.includes(this.user.rid)?(this.options.institucion_id=this.user.ies,this.getModalidades()):this.$router.replace({name:"inicio"})},methods:{...Object(k["b"])(["toast"]),getModalidades(){this.notify_load=!0,T.a.get(y["a"].getUrlAPI()+"admision/modalidad",y["a"].getHeader()).then(t=>{this.convocatoria=t.data.convocatoria?t.data.convocatoria:{id:null,cite:""},t.data.modalidades.length>0&&(this.modalidades=t.data.modalidades.filter(t=>"A"!=t.sigla),this.options.sigla="B1"),this.options.convocatoria_id=this.convocatoria.id,this.notify_title="Notificación",this.notify_load=!1,this.getPostulantes()}).catch(()=>{this.notify_load=!1,console.error("Parametros no encontrado")})},getPostulantes(){this.loading=!0,T.a.post(y["a"].getUrlAPI()+"admision/postulantes/modalidadb",this.options,y["a"].getHeader()).then(t=>{this.loading=!1,this.postulantes=t.data.rows,t.data.count>0&&(this.options.pageCount=Math.floor(t.data.count/this.options.itemsPerPage)+1)}).catch(t=>{this.loading=!1,console.error("Error al cargar registros",t)})},changeSearch(){this.options.search&&this.options.search.length>2&&this.getPostulantes()},changePerPage(){this.options.page=1,this.getPostulantes()},changePage(){this.getPostulantes()},async registerRequisito(t,e,a,i,s){await this.$store.dispatch("postulante",{id:t,nombre:e,modalidad:this.options.sigla,cedula_dni:a,complemento:i,fecha_nacimiento:s}),this.$router.push({name:"admision-registrar-requisito"})},async editarRequisito(t,e){await this.$store.dispatch("postulante",{id:t,nombre:e,modalidad:this.options.sigla}),this.$router.push({name:"admision-editar-requisito"})},printFormCentralizador(t,e){this.load_send=!0,T.a.post(y["a"].getUrlAPI()+"admision/formulario/centralizador",{postulante_id:t,convocatoria_id:this.convocatoria.id,institucion_id:this.options.institucion_id},y["a"].getHeader()).then(async t=>{this.load_send=!1;var a=await C["a"].bodyCentralizadorPDF(t.data,e),i={pageSize:"LETTER",pageMargins:[38,70,38,30],header:C["a"].setting().header,footer:C["a"].setting().footer,content:a};x.a.createPdf(i).download("FormularioCentralizador.pdf")}).catch(t=>{this.load_send=!1,console.error(t)})}}},I=B,S=a("2877"),$=Object(S["a"])(I,f,v,!1,null,null,null);e["default"]=$.exports},7036:function(t,e,a){"use strict";var i=a("b0af"),s=a("99d9"),o=a("490a"),n=function(){var t=this,e=t._self._c;return e(i["a"],{staticClass:"text-center"},[e(s["d"],[t._v(t._s(t.title))]),t.load?e(s["c"],[e(o["a"],{attrs:{size:70,width:7,color:"blue",indeterminate:""}})],1):e(s["c"],[e("h3",{staticClass:"mt-2"},[t._v("No hay convocatoria habilitada para "+t._s(t.process)+".")])])],1)},r=[],l={props:["title","process","load"]},d=l,c=a("2877"),h=Object(c["a"])(d,n,r,!1,null,null,null);e["a"]=h.exports},9734:function(t,e,a){}}]);
//# sourceMappingURL=chunk-504ed5b8.db2b2302.js.map