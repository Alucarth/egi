{"version":3,"sources":["webpack:///./src/views/AdmissionDashboard.vue?6043","webpack:///./src/views/AdmissionDashboard.vue","webpack:///src/views/AdmissionDashboard.vue","webpack:///./src/views/AdmissionDashboard.vue?0057","webpack:///./src/views/AdmissionDashboard.vue?d2fa"],"names":["staticClass","attrs","_c","_vm","model","value","convocatoria_id","callback","expression","key","index","_v","render","staticRenderFns","exportingInit","highchartsMore","name","components","HeaderTitle","data","message","loading","convocatorias","dato","modalidades","departamentos","chartModalidad","chartDepartamento","colorQuads","user","computed","total","created","mounted","methods","getConvocatorias","axios","get","Service","then","catch","console","getEstadisticas","nombre","modalidad","departamento","chart","type","title","text","subtitle","xAxis","categories","yAxis","min","labels","overflow","tooltip","enabled","plotOptions","column","colorByPoint","dataLabels","format","legend","layout","align","verticalAlign","x","y","floating","borderWidth","backgroundColor","shadow","credits","colors","series","exporting","buttons","contextButton","menuItems","textKey","onclick","component"],"mappings":"4IAAA,Y,qICA6J,W,IAAsB,OAAG,EAAI,QAAQ,G,OAACA,SAAY,CAAmB,MAAK,CAASA,eAAY,GAAOC,MAAM,K,CAAa,iBAAK,CAAG,OAAIC,MAAG,yBAAmB,SAAQ,C,YAAwBC,oB,CAAkB,U,YAA2B,O,MAAkB,CAAkB,KAAQ,KAAI,S,CAAK,SAASA,CAAmB,MAAC,CAACC,MAAM,gBAACC,MAAOF,EAAIG,cAAiBC,YAAS,e,aAAoBD,KAAmB,eAAC,GAACE,OAAU,IAAqB,GAAG,CAA8DR,OAAW,EAAC,iBAAwE,MAAOE,CAAYO,MAAIC,EAAK,gBAACT,SAAM,YAAC,kBAAW,G,WAAe,sBAAM,IAAI,KAAQ,KAAC,wC,YAAY,oB,CAAWA,KAAM,kC,OAAC,SAAW,C,IAAmB,E,MAAU,CAAa,UAAIC,GAAG,IAAeD,GAAM,MAAgB,WAAE,YAAK,UAAiCD,OAAgCG,MAAO,EAAIA,WAAW,GAA2DH,QAA6BG,SAAU,KAAwHF,GAAM,QAAC,MAAM,CAAM,aAAQ,KAAS,oBAAIC,YAAY,mBAACF,MAAW,IAAC,KAAS,8CAACC,YAAM,gBAAC,MAAQ,MAAS,kFAAC,SAAO,C,MAAG,CAAa,UAAIC,GAAG,IAAeD,GAAM,MAAgB,WAAE,YAAK,UAAiCD,OAAgCG,MAAO,UAAmCH,QAA6BG,SAAU,K,CAA4I,SAAW,C,MAAK,CAAK,aAAK,KAAM,CAACD,EAAG,OAAS,UAACF,YAAY,mBAAUC,GAAK,GAAC,qB,YAAY,gBAAI,mHAAE,MAAK,CAAcD,UAAoBC,GAAM,IAAC,SAAgC,GAAG,OAAKC,CAAYD,YAAM,U,MAAC,CAAY,UAAQ,MAAS,iBAAE,YAAa,QAAED,OAAsBC,QAAM,qBAAgB,iBAAE,MAAK,CAAcD,UAAoBC,GAAM,IAAC,SAAmC,GAAG,OAAK,CAA6BD,YAAY,UAAY,MAAMW,CACzmE,gBAGD,GAASC,aAAQC,C,iTCiFjBC,IAAcA,KACdC,IAAeA,KACA,OACfC,0BACAC,YACAC,oBAEAC,WACAC,WACAC,WACAf,mBACAgB,iBACAC,MACAC,eACAC,kBAEAC,kBACAC,qBACAC,+DACAC,YAEAC,UACAC,QACA,oCACA,gCACA,KAIAC,UACA,2BACA,iBACA,sBAAAhB,eAGAiB,UACA,iBACA,qCACA,wBAGA,sBAAAjB,eAGAkB,SACAC,mBACAC,IACAC,IACAC,4CACAA,oBAEAC,SACA,0BACA,qBACA,mDACA,yBAEAC,WACAC,6CAGAC,kBACAN,IACAC,IACAC,8DACAA,oBAEAC,SACA,SACA,UACA,UACA,UACA,UACA,WAEA,iBACA,OACAI,UACAZ,UAEA,2BACA,iBACAa,gCACAA,2BAEA,OACAD,UACAZ,UAEA,6BACA,iBACAc,gCACAA,2BAEA,qBACAC,OACAC,eAEAC,OACAC,kCAEAC,UACAD,qDAEAE,OACAC,oBACAJ,OACAC,YAGAI,OACAC,MACAN,OACAC,wBAEAM,QACAC,qBAGAC,SACAC,YAEAC,aACAC,QACAC,gBACAC,YACAJ,WACAK,sBAIAC,QACAN,WACAO,kBACAC,cACAC,oBACAC,MACAC,KACAC,YACAC,cACAC,0BACAC,WAEAC,SACAhB,YAEAiB,SACAC,QACA,CACA5D,aACAG,eAGA0D,WACAC,SACAC,eACAC,WACA,CACA/B,gBACAgC,qBACAC,mBACA,eAGA,CACAjC,iBACAgC,uBACAC,mBACA,kBACAnC,2BASA,wBACAD,OACAC,eAEAC,OACAC,qCAEAC,UACAD,wDAEAE,OACAC,oBACAJ,OACAC,YAGAI,OACAC,MACAN,OACAC,wBAEAM,QACAC,qBAGAC,SACAC,YAEAC,aACAC,QACAC,gBACAC,YACAJ,WACAK,sBAIAC,QACAN,WACAO,kBACAC,cACAC,oBACAC,MACAC,KACAC,YACAC,cACAC,0BACAC,WAEAC,SACAhB,YAEAkB,QACA,CACA5D,aACAG,eAIA0D,WACAC,SACAC,eACAC,WACA,CACA/B,gBACAgC,qBACAC,mBACA,eAGA,CACAjC,iBACAgC,uBACAC,mBACA,kBACAnC,6BAUAP,WACAC,0CC7V4V,I,wBCQxV0C,EAAY,eACd,EACA,EACAtE,GACA,EACA,KACA,WACA,MAIa,aAAAsE,E","file":"js/chunk-9eb5cf0e.e1829f64.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdmissionDashboard.vue?vue&type=style&index=0&id=74694448&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{attrs:{\"grid-list-xl\":\"\",\"fluid\":\"\"}},[_c('header-title',{attrs:{\"title\":\"Reporte estadístico\"}}),_c('v-row',{staticClass:\"mb-6 text-center\"},[_c('v-col',{staticClass:\"py-1\",attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-select',{attrs:{\"label\":\"Convocatorias\",\"items\":_vm.convocatorias,\"item-text\":\"convocatoria\",\"item-value\":\"id\",\"hide-details\":\"\",\"filled\":\"\"},on:{\"change\":_vm.getEstadisticas},model:{value:(_vm.convocatoria_id),callback:function ($$v) {_vm.convocatoria_id=$$v},expression:\"convocatoria_id\"}})],1)],1),(_vm.dato.modalidades.length > 0)?_c('div',[_c('v-row',{staticClass:\"mb-6 text-center\"},[_vm._l((_vm.dato.modalidades),function(item,index){return _c('v-col',{key:index,attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"2\"}},[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"color\":_vm.colorQuads[index],\"dark\":\"\",\"outlined\":\"\"}},[_c('v-list-item',{attrs:{\"three-line\":\"\"}},[_c('v-list-item-content',[_c('div',{staticClass:\"subtitle-1 mb-2\"},[_vm._v(\" \"+_vm._s(item.descripcion.toUpperCase())+\" \")]),_c('v-list-item-title',{staticClass:\"text-h5 mb-1\"},[_vm._v(\" \"+_vm._s(item.total)+\" \")]),_c('v-list-item-subtitle',[_vm._v(\" Postulantes inscritos \")])],1)],1)],1)],1)}),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"2\"}},[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"color\":\"#263238\",\"dark\":\"\",\"outlined\":\"\"}},[_c('v-list-item',{attrs:{\"three-line\":\"\"}},[_c('v-list-item-content',[_c('div',{staticClass:\"subtitle-1 mb-2\"},[_vm._v(\"TOTAL\")]),_c('v-list-item-title',{staticClass:\"text-h5 mb-1\"},[_vm._v(\" \"+_vm._s(_vm.total)+\" \")]),_c('v-list-item-subtitle',[_vm._v(\" Postulantes inscritos \")])],1)],1)],1)],1)],2),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"elevation\":\"3\"}},[_c('highcharts',{staticClass:\"chart\",attrs:{\"options\":_vm.chartModalidad}})],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"8\"}},[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"elevation\":\"3\"}},[_c('highcharts',{staticClass:\"chart\",attrs:{\"options\":_vm.chartDepartamento}})],1)],1)],1)],1):_c('div',[_c('span',{staticClass:\"red--text\"},[_vm._v(\"No hay registros para visualizar.\")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container grid-list-xl fluid>\n    <header-title title=\"Reporte estadístico\"></header-title>\n    <v-row class=\"mb-6 text-center\">\n      <v-col cols=\"12\" md=\"6\" class=\"py-1\">\n        <v-select\n          label=\"Convocatorias\"\n          v-model=\"convocatoria_id\"\n          :items=\"convocatorias\"\n          item-text=\"convocatoria\"\n          item-value=\"id\"\n          hide-details\n          filled\n          @change=\"getEstadisticas\"\n        ></v-select>\n      </v-col>\n    </v-row>\n    <div v-if=\"dato.modalidades.length > 0\">\n      <v-row class=\"mb-6 text-center\">\n        <v-col\n          cols=\"12\"\n          v-for=\"(item, index) in dato.modalidades\"\n          :key=\"index\"\n          sm=\"4\"\n          md=\"2\"\n        >\n          <v-card :color=\"colorQuads[index]\" dark class=\"mx-auto\" outlined>\n            <v-list-item three-line>\n              <v-list-item-content>\n                <div class=\"subtitle-1 mb-2\">\n                  {{ item.descripcion.toUpperCase() }}\n                </div>\n                <v-list-item-title class=\"text-h5 mb-1\">\n                  {{ item.total }}\n                </v-list-item-title>\n                <v-list-item-subtitle>\n                  Postulantes inscritos\n                </v-list-item-subtitle>\n              </v-list-item-content>\n            </v-list-item>\n          </v-card>\n        </v-col>\n        <v-col cols=\"12\" sm=\"4\" md=\"2\">\n          <v-card color=\"#263238\" dark class=\"mx-auto\" outlined>\n            <v-list-item three-line>\n              <v-list-item-content>\n                <div class=\"subtitle-1 mb-2\">TOTAL</div>\n                <v-list-item-title class=\"text-h5 mb-1\">\n                  {{ total }}\n                </v-list-item-title>\n                <v-list-item-subtitle>\n                  Postulantes inscritos\n                </v-list-item-subtitle>\n              </v-list-item-content>\n            </v-list-item>\n          </v-card>\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-col cols=\"12\" sm=\"6\" md=\"4\">\n          <v-card class=\"mx-auto\" elevation=\"3\">\n            <highcharts class=\"chart\" :options=\"chartModalidad\"></highcharts>\n          </v-card>\n        </v-col>\n        <v-col cols=\"12\" sm=\"6\" md=\"8\">\n          <v-card class=\"mx-auto\" elevation=\"3\">\n            <highcharts class=\"chart\" :options=\"chartDepartamento\"></highcharts>\n          </v-card>\n        </v-col>\n      </v-row>\n    </div>\n    <div v-else>\n      <span class=\"red--text\">No hay registros para visualizar.</span>\n    </div>\n  </v-container>\n</template>\n\n<script>\nimport Highcharts from \"highcharts\";\nimport highchartsMore from \"highcharts/highcharts-more\";\nimport exportingInit from \"highcharts/modules/exporting\";\n\nimport HeaderTitle from \"@/components/HeaderTitle\";\nimport Service from \"../utils/general\";\nimport axios from \"axios\";\nexportingInit(Highcharts);\nhighchartsMore(Highcharts);\nexport default {\n  name: \"admision-dashboard\",\n  components: {\n    HeaderTitle,\n  },\n  data: () => ({\n    message: \"\",\n    loading: false,\n    convocatoria_id: \"\",\n    convocatorias: [],\n    dato: {\n      modalidades: [],\n      departamentos: [],\n    },\n    chartModalidad: {},\n    chartDepartamento: {},\n    colorQuads: [\"#689F38\", \"#EF6C00\", \"#00ACC1\", \"#BA68C8\", \"#039BE5\"],\n    user: null,\n  }),\n  computed: {\n    total() {\n      return this.dato.modalidades.reduce(\n        (a, b) => a + (parseInt(b.total) || 0),\n        0\n      );\n    },\n  },\n  created() {\n    this.user = Service.getUser();\n    if (this.user == null) {\n      this.$router.replace({ name: \"root\" });\n    }\n  },\n  mounted() {\n    const roles = [1, 2,13];\n    if (this.user && roles.includes(this.user.rid)) {\n      this.getConvocatorias();\n      //this.getEstadisticas();\n    } else {\n      this.$router.replace({ name: \"root\" });\n    }\n  },\n  methods: {\n    getConvocatorias() {\n      axios\n        .get(\n          Service.getUrlAPI() + \"admision/convocatorias\",\n          Service.getHeader()\n        )\n        .then((response) => {\n          this.convocatorias = response.data;\n          this.convocatoria_id =\n            this.convocatorias[this.convocatorias.length - 1].id;\n          this.getEstadisticas();\n        })\n        .catch(() => {\n          console.error(\"Parametros no encontrado\");\n        });\n    },\n    getEstadisticas() {\n      axios\n        .get(\n          Service.getUrlAPI() + \"admision/dashboard/\" + this.convocatoria_id,\n          Service.getHeader()\n        )\n        .then((response) => {\n          const colors = [\n            \"#9CCC65\",\n            \"#F57C00\",\n            \"#26C6DA\",\n            \"#BA68C8\",\n            \"#00B0FF\",\n          ];\n          this.dato = response.data;\n          let modalidad = {\n            nombre: [],\n            total: [],\n          };\n          const modalidades = response.data.modalidades;\n          for (const key in modalidades) {\n            modalidad.nombre.push(modalidades[key].descripcion);\n            modalidad.total.push(modalidades[key].total * 1);\n          }\n          let departamento = {\n            nombre: [],\n            total: [],\n          };\n          const departamentos = response.data.departamentos;\n          for (const key in departamentos) {\n            departamento.nombre.push(departamentos[key].descripcion);\n            departamento.total.push(departamentos[key].total * 1);\n          }\n          this.chartModalidad = {\n            chart: {\n              type: \"column\",\n            },\n            title: {\n              text: \"POSTULANTES POR MODALIDAD\",\n            },\n            subtitle: {\n              text: \"Total de postulantes inscritos por modalidad\",\n            },\n            xAxis: {\n              categories: modalidad.nombre,\n              title: {\n                text: null,\n              },\n            },\n            yAxis: {\n              min: 0,\n              title: {\n                text: \"Total inscritos\",\n              },\n              labels: {\n                overflow: \"justify\",\n              },\n            },\n            tooltip: {\n              enabled: true,\n            },\n            plotOptions: {\n              column: {\n                colorByPoint: true,\n                dataLabels: {\n                  enabled: true,\n                  format: \"{point.y}\",\n                },\n              },\n            },\n            legend: {\n              enabled: false,\n              layout: \"vertical\",\n              align: \"right\",\n              verticalAlign: \"top\",\n              x: -40,\n              y: 80,\n              floating: true,\n              borderWidth: 0,\n              backgroundColor: \"#FFFFFF\",\n              shadow: true,\n            },\n            credits: {\n              enabled: false,\n            },\n            colors: colors,\n            series: [\n              {\n                name: \"Total\",\n                data: modalidad.total,\n              },\n            ],\n            exporting: {\n              buttons: {\n                contextButton: {\n                  menuItems: [\n                    {\n                      text: \"Imprimir\",\n                      textKey: \"printChart\",\n                      onclick: function () {\n                        this.print();\n                      },\n                    },\n                    {\n                      text: \"Descargar\",\n                      textKey: \"downloadJPEG\",\n                      onclick: function () {\n                        this.exportChart({\n                          type: \"image/jpeg\",\n                        });\n                      },\n                    },\n                  ],\n                },\n              },\n            },\n          };\n          this.chartDepartamento = {\n            chart: {\n              type: \"column\",\n            },\n            title: {\n              text: \"POSTULANTES POR DEPARTAMENTO\",\n            },\n            subtitle: {\n              text: \"Total de postulantes inscritos por departamento\",\n            },\n            xAxis: {\n              categories: departamento.nombre,\n              title: {\n                text: null,\n              },\n            },\n            yAxis: {\n              min: 0,\n              title: {\n                text: \"Total inscritos\",\n              },\n              labels: {\n                overflow: \"justify\",\n              },\n            },\n            tooltip: {\n              enabled: true,\n            },\n            plotOptions: {\n              column: {\n                colorByPoint: true,\n                dataLabels: {\n                  enabled: true,\n                  format: \"{point.y}\",\n                },\n              },\n            },\n            legend: {\n              enabled: false,\n              layout: \"vertical\",\n              align: \"right\",\n              verticalAlign: \"top\",\n              x: -40,\n              y: 80,\n              floating: true,\n              borderWidth: 0,\n              backgroundColor: \"#FFFFFF\",\n              shadow: true,\n            },\n            credits: {\n              enabled: false,\n            },\n            series: [\n              {\n                name: \"Total\",\n                data: departamento.total,\n                //color: \"#4DD0E1\",\n              },\n            ],\n            exporting: {\n              buttons: {\n                contextButton: {\n                  menuItems: [\n                    {\n                      text: \"Imprimir\",\n                      textKey: \"printChart\",\n                      onclick: function () {\n                        this.print();\n                      },\n                    },\n                    {\n                      text: \"Descargar\",\n                      textKey: \"downloadJPEG\",\n                      onclick: function () {\n                        this.exportChart({\n                          type: \"image/jpeg\",\n                        });\n                      },\n                    },\n                  ],\n                },\n              },\n            },\n          };\n        })\n        .catch(() => {\n          console.error(\"datos no encontrado\");\n        });\n    },\n  },\n};\n</script>\n<style scoped>\n.head-color-1 {\n  background-color: #616161;\n}\n.head-color-1 th {\n  color: white !important;\n}\n.head-color-2 {\n  background-color: #e0e0e0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdmissionDashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdmissionDashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdmissionDashboard.vue?vue&type=template&id=74694448&scoped=true&\"\nimport script from \"./AdmissionDashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./AdmissionDashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdmissionDashboard.vue?vue&type=style&index=0&id=74694448&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74694448\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}